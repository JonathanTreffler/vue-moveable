(function(t,r){"object"===typeof exports&&"object"===typeof module?module.exports=r():"function"===typeof define&&define.amd?define([],r):"object"===typeof exports?exports["VueMoveable"]=r():t["VueMoveable"]=r()})("undefined"!==typeof self?self:this,(function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s="fb15")}({8875:function(t,r,e){var n,i,o;(function(e,a){i=[],n=a,o="function"===typeof n?n.apply(r,i):n,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(l){var t,r,e,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,o=n.exec(l.stack)||i.exec(l.stack),a=o&&o[1]||!1,s=o&&o[2]||!1,u=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");a===u&&(t=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),e=t.replace(r,"$1").trim());for(var f=0;f<c.length;f++){if("interactive"===c[f].readyState)return c[f];if(c[f].src===a)return c[f];if(a===u&&c[f].innerHTML&&c[f].innerHTML.trim()===e)return c[f]}return null}}return t}))},fb15:function(t,r,e){"use strict";if(e.r(r),"undefined"!==typeof window){var n=window.document.currentScript,i=e("8875");n=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(e.p=o[1])}var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[t._t("default")],2)},s=[];function u(t){return"undefined"===typeof t}var c=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var r=t.prototype;return r.trigger=function(t,r){void 0===r&&(r={});var e=this._eventHandler[t]||[],n=e.length>0;if(!n)return!0;e=e.concat(),r.eventType=t;var i=!1,o=[r],a=0;r.stop=function(){i=!0},r.currentTarget=this;for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];for(u.length>=1&&(o=o.concat(u)),a=0;e[a];a++)e[a].apply(this,o);return!i},r.once=function(t,r){if("object"===typeof t&&u(r)){var e,n=t;for(e in n)this.once(e,n[e]);return this}if("string"===typeof t&&"function"===typeof r){var i=this;this.on(t,(function e(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];r.apply(i,o),i.off(t,e)}))}return this},r.hasOn=function(t){return!!this._eventHandler[t]},r.on=function(t,r){if("object"===typeof t&&u(r)){var e,n=t;for(e in n)this.on(e,n[e]);return this}if("string"===typeof t&&"function"===typeof r){var i=this._eventHandler[t];u(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(r)}return this},r.off=function(t,r){if(u(t))return this._eventHandler={},this;if(u(r)){if("string"===typeof t)return this._eventHandler[t]=void 0,this;var e,n=t;for(e in n)this.off(e,n[e]);return this}var i,o,a=this._eventHandler[t];if(a)for(i=0;void 0!==(o=a[i]);i++)if(o===r){a=a.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}(),f=c;function l(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return r.map((function(r){return r.split(" ").map((function(r){return r?""+t+r:""})).join(" ")})).join(" ")}function p(t,r){return r.replace(/([^}{]*){/gm,(function(r,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}function d(t,r){return function(e){e&&(t[r]=e)}}function h(t,r,e){return function(n){n&&(t[r][e]=n)}}function v(t,r){return function(e){var n=e.prototype;t.forEach((function(t){r(n,t)}))}}var g=function(){function t(){this.keys=[],this.values=[]}var r=t.prototype;return r.get=function(t){return this.values[this.keys.indexOf(t)]},r.set=function(t,r){var e=this.keys,n=this.values,i=e.indexOf(t),o=-1===i?e.length:i;e[o]=t,n[o]=r},t}(),m=function(){function t(){this.object={}}var r=t.prototype;return r.get=function(t){return this.object[t]},r.set=function(t,r){this.object[t]=r},t}(),b="function"===typeof Map,y=function(){function t(){}var r=t.prototype;return r.connect=function(t,r){this.prev=t,this.next=r,t&&(t.next=this),r&&(r.prev=this)},r.disconnect=function(){var t=this.prev,r=this.next;t&&(t.next=r),r&&(r.prev=t)},r.getIndex=function(){var t=this,r=-1;while(t)t=t.prev,++r;return r},t}();function x(t,r){var e=[],n=[];return t.forEach((function(t){var r=t[0],i=t[1],o=new y;e[r]=o,n[i]=o})),e.forEach((function(t,r){t.connect(e[r-1])})),t.filter((function(t,e){return!r[e]})).map((function(t,r){var i=t[0],o=t[1];if(i===o)return[0,0];var a=e[i],s=n[o-1],u=a.getIndex();a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,e[0]);var c=a.getIndex();return[u,c]}))}var E=function(){function t(t,r,e,n,i,o,a,s){this.prevList=t,this.list=r,this.added=e,this.removed=n,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var r=t.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var t=x(this.changedBeforeAdded,this.fixed),r=this.changed,e=[];this.cacheOrdered=t.filter((function(t,n){var i=t[0],o=t[1],a=r[n],s=a[0],u=a[1];if(i!==o)return e.push([s,u]),!0})),this.cachePureChanged=e},t}();function S(t,r,e){var n=b?Map:e?m:g,i=e||function(t){return t},o=[],a=[],s=[],u=t.map(i),c=r.map(i),f=new n,l=new n,p=[],d=[],h={},v=[],y=0,x=0;return u.forEach((function(t,r){f.set(t,r)})),c.forEach((function(t,r){l.set(t,r)})),u.forEach((function(t,r){var e=l.get(t);"undefined"===typeof e?(++x,a.push(r)):h[e]=x})),c.forEach((function(t,r){var e=f.get(t);"undefined"===typeof e?(o.push(r),++y):(s.push([e,r]),x=h[r]||0,p.push([e-x,r-y]),d.push(r===e),e!==r&&v.push([e,r]))})),a.reverse(),new E(t,r,o,a,v,s,p,d)}var M=function(){function t(t,r){void 0===t&&(t=[]),this.findKeyCallback=r,this.list=[].slice.call(t)}var r=t.prototype;return r.update=function(t){var r=[].slice.call(t),e=S(this.list,r,this.findKeyCallback);return this.list=r,e},t}(),w=M,D="function",C="object",O="string",z="undefined";typeof document!==z&&document;function B(t,r,e,n){return(t*n+r*e)/(e+n)}function P(t){return typeof t===z}function R(t){return t&&typeof t===C}function _(t){return Array.isArray(t)}function G(t){return typeof t===O}function A(t){return typeof t===D}function T(t){var r=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return r?r.map((function(t){return t.trim()})):[]}function I(t){var r=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!r||r.length<4?{}:{prefix:r[1],value:r[2],suffix:r[3]}}function N(t){var r=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!r)return{prefix:"",unit:"",value:NaN};var e=r[1],n=r[2],i=r[3];return{prefix:e,unit:i,value:parseFloat(n)}}function j(t){return t.replace(/[\s-_]([a-z])/g,(function(t,r){return r.toUpperCase()}))}function X(){return Date.now?Date.now():(new Date).getTime()}function Y(t,r,e){void 0===e&&(e=-1);for(var n=t.length,i=0;i<n;++i)if(r(t[i],i,t))return i;return e}function k(t,r,e){var n=Y(t,r);return n>-1?t[n]:e}function L(t,r){return t.classList?t.classList.contains(r):!!t.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function W(t,r){t.classList?t.classList.add(r):t.className+=" "+r}function F(t,r){if(t.classList)t.classList.remove(r);else{var e=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className=t.className.replace(e," ")}}function H(t,r,e,n){t.addEventListener(r,e,n)}function q(t,r,e){t.removeEventListener(r,e)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var V=function(t,r){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},V(t,r)};function U(t,r){function e(){this.constructor=t}V(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var $=function(){return $=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},$.apply(this,arguments)};function K(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]])}return e}function Z(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;var n=Array(t),i=0;for(r=0;r<e;r++)for(var o=arguments[r],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function J(t,r){if(t===r)return!1;for(var e in t)if(!(e in r))return!0;for(var e in r)if(t[e]!==r[e])return!0;return!1}function Q(t,r){var e=Object.keys(t),n=Object.keys(r),i=S(e,n,(function(t){return t})),o={},a={},s={};return i.added.forEach((function(t){var e=n[t];o[e]=r[e]})),i.removed.forEach((function(r){var n=e[r];a[n]=t[n]})),i.maintained.forEach((function(n){var i=n[0],o=e[i],a=[t[o],r[o]];t[o]!==r[o]&&(s[o]=a)})),{added:o,removed:a,changed:s}}function tt(t){t.forEach((function(t){t()}))}function rt(t){var r=0;return t.map((function(t){return null==t?"$compat"+ ++r:""+t}))}function et(t,r,e,n){if(G(t))return new pt("text_"+t,r,e,n,null,{});var i="string"===typeof t.type?dt:t.type.prototype.render?bt:gt;return new i(t.type,r,e,n,t.ref,t.props)}function nt(t){var r=[];return t.forEach((function(t){r=r.concat(_(t)?nt(t):t)})),r}function it(t){var r=t.className,e=K(t,["className"]);return null!=r&&(e.class=r),delete e.style,delete e.children,e}function ot(t,r){if(!r)return t;for(var e in r)P(t[e])&&(t[e]=r[e]);return t}function at(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=r||{},o=i.key,a=i.ref,s=K(i,["key","ref"]);return{type:t,key:o,ref:a,props:$($({},s),{children:nt(e).filter((function(t){return null!=t}))})}}var st=function(){function t(t,r,e,n,i,o){void 0===o&&(o={}),this.type=t,this.key=r,this.index=e,this.container=n,this.ref=i,this.props=o,this._providers=[]}var r=t.prototype;return r._should=function(t,r){return!0},r._update=function(t,r,e,n){if(this.base&&!G(r)&&!n&&!this._should(r.props,e))return!1;this.original=r,this._setState(e);var i=this.props;return G(r)||(this.props=r.props,this.ref=r.ref),this._render(t,this.base?i:{},e),!0},r._mounted=function(){var t=this.ref;t&&t(this.base)},r._setState=function(t){},r._updated=function(){var t=this.ref;t&&t(this.base)},r._destroy=function(){var t=this.ref;t&&t(null)},t}();function ut(t,r,e){var n=Q(t,r),i=n.added,o=n.removed,a=n.changed;for(var s in i)e.setAttribute(s,i[s]);for(var s in a)e.setAttribute(s,a[s][1]);for(var s in o)e.removeAttribute(s)}function ct(t,r,e){var n=Q(t,r),i=n.added,o=n.removed,a=n.changed;for(var s in o)e.removeEventListener(s);for(var s in i)e.addEventListener(s,i[s]);for(var s in a)e.removeEventListener(s),e.addEventListener(s,a[s][1]);for(var s in o)e.removeEventListener(s)}function ft(t,r,e){var n=e.style,i=Q(t,r),o=i.added,a=i.removed,s=i.changed;for(var u in o)n[u]=o[u];for(var u in s)n[u]=s[u][1];for(var u in a)n[u]=""}function lt(t){var r={},e={};for(var n in t)0===n.indexOf("on")?e[n.replace("on","").toLowerCase()]=t[n]:r[n]=t[n];return{attributes:r,events:e}}var pt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}U(r,t);var e=r.prototype;return e._render=function(t){var r=this,e=!this.base;return e&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){e?r._mounted():r._updated()})),!0},e._unmount=function(){this.base.parentNode.removeChild(this.base)},r}(st),dt=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.events={},r}U(r,t);var e=r.prototype;return e.addEventListener=function(t,r){var e=this.events;e[t]=function(t){t.nativeEvent=t,r(t)},this.base.addEventListener(t,e[t])},e.removeEventListener=function(t){var r=this.events;this.base.removeEventListener(t,r[t]),delete r[t]},e._should=function(t){return J(this.props,t)},e._render=function(t,r){var e=this,n=!this.base;n&&(this.base=document.createElement(this.type)),Dt(this,this._providers,this.props.children,t,null);var i=this.base,o=lt(r),a=o.attributes,s=o.events,u=lt(this.props),c=u.attributes,f=u.events;return ut(it(a),it(c),i),ct(s,f,this),ft(r.style||{},this.props.style||{},i),t.push((function(){n?e._mounted():e._updated()})),!0},e._unmount=function(){var t=this.events,r=this.base;for(var e in t)r.removeEventListener(e,t[e]);this._providers.forEach((function(t){t._unmount()})),this.events={},r.parentNode.removeChild(r)},r}(st);function ht(t){if(!t)return null;var r=t.base;return r instanceof Node?r:ht(t.container)}function vt(t){if(!t)return null;if(t instanceof Node)return t;var r=t._provider._providers;return r.length?vt(r[0].base):null}var gt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}U(r,t);var e=r.prototype;return e._render=function(t){var r=this.type(this.props);return Dt(this,this._providers,r?[r]:[],t),!0},e._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},r}(st),mt=function(t){function r(r){var e=t.call(this,"container","container",0,null)||this;return e.base=r,e}U(r,t);var e=r.prototype;return e._render=function(){return!0},e._unmount=function(){},r}(st),bt=function(t){function r(r,e,n,i,o,a){return void 0===a&&(a={}),t.call(this,r,e,n,i,o,ot(a,r.defaultProps))||this}U(r,t);var e=r.prototype;return e._should=function(t,r){return this.base.shouldComponentUpdate(ot(t,this.type.defaultProps),r||this.base.state)},e._render=function(t,r,e){var n=this;this.props=ot(this.props,this.type.defaultProps);var i=!this.base;i?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var o=this.base,a=o.state,s=o.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),Dt(this,this._providers,s?[s]:[],t,e,null),t.push((function(){i?(n._mounted(),o.componentDidMount()):(n._updated(),o.componentDidUpdate(r,a))}))},e._setState=function(t){if(t){var r=this.base;r.state=t}},e._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},r}(st),yt=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var r=t.prototype;return r.shouldComponentUpdate=function(t,r){return!0},r.render=function(){return null},r.setState=function(t,r,e){var n=[],i=this._provider,o=Dt(i.container,[i],[i.original],n,$($({},this.state),t),e);o&&(r&&n.push(r),tt(n))},r.forceUpdate=function(t){this.setState(this.state,t,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(t,r){},r.componentWillUnmount=function(){},t}(),xt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}U(r,t);var e=r.prototype;return e.shouldComponentUpdate=function(t,r){return J(this.props,t)||J(this.state,r)},r}(yt),Et=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}U(r,t);var e=r.prototype;return e.componentDidMount=function(){var t=this.props,r=t.element,e=t.container;this._portalProvider=new mt(e),Ct(r,e,this._portalProvider)},e.componentDidUpdate=function(){var t=this.props,r=t.element,e=t.container;Ct(r,e,this._portalProvider)},e.componentWillUnmount=function(){var t=this.props.container;Ct(null,t,this._portalProvider),this._portalProvider=null},r}(xt);function St(t,r,e){var n=[];Dt(t,t._providers,r,n,e),tt(n)}function Mt(t,r){for(var e=t._providers,n=e.length,i=r.index+1;i<n;++i){var o=vt(e[i].base);if(o)return o}return null}function wt(t,r,e){var n=e.map((function(t){return G(t)?null:t.key})),i=rt(r.map((function(t){return t.key}))),o=rt(n),a=S(i,o,(function(t){return t}));a.removed.forEach((function(t){r.splice(t,1)[0]._unmount()})),a.ordered.forEach((function(t){var e=t[0],n=t[1],i=r.splice(e,1)[0];r.splice(n,0,i);var o=vt(i.base),a=vt(r[n+1]&&r[n+1].base);o&&o.parentNode.insertBefore(o,a)})),a.added.forEach((function(i){r.splice(i,0,et(e[i],n[i],i,t))}));var s=a.maintained.filter((function(i){i[0];var o=i[1],a=e[o],s=r[o],u=G(a)?"text_"+a:a.type;return u!==s.type?(s._unmount(),r.splice(o,1,et(a,n[o],o,t)),!0):(s.index=o,!1)}));return Z(a.added,s.map((function(t){t[0];var r=t[1];return r})))}function Dt(t,r,e,n,i,o){var a=wt(t,r,e),s=r.filter((function(t,r){return t._update(n,e[r],i,o)})),u=ht(t);return u&&a.reverse().forEach((function(e){var n=r[e],i=vt(n.base);if(i&&u!==i&&!i.parentNode){var o=Mt(t,n);u.insertBefore(i,o)}})),s.length>0}function Ct(t,r,e){void 0===e&&(e=r.__REACT_COMPAT__);var n=!!e;return e||(e=new mt(r)),St(e,t?[t]:[]),n||(r.__REACT_COMPAT__=e),e}function Ot(t,r,e){var n=r.__REACT_COMPAT__;t&&!n&&(r.innerHTML=""),Ct(t,r,n),e&&e()}function zt(t,r){return at(Et,{element:t,container:r})}var Bt="undefined"!==typeof window&&window||{},Pt=(Bt.RegExp,Bt.navigator),Rt={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function _t(t,r){for(var e=[],n=0;n<t.length;n++)r(t[n])&&e.push(t[n]);return e}function Gt(t,r){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}var At=void 0;function Tt(t){At=t}function It(t,r){return r&&r.test?!!r.test(t):t.indexOf(r)>-1}function Nt(t,r){var e=_t(t,(function(t){return It(At,t.criteria)}))[0];return e&&e.identity||r.name}function jt(t,r){return _t(t,(function(t){var e=t.criteria,n=new RegExp(t.identity,"i").test(r);return!!(e?n&&It(At,e):n)}))[0]}function Xt(){return Nt(Rt.browser,Rt.defaultString.browser)}function Yt(t){var r=jt(Rt.browser,t);return r||(r={criteria:t,versionSearch:t,identity:t}),r}function kt(t,r){var e=Rt.defaultString.browser.version,n=new RegExp("("+t+")","i").exec(r);if(!n)return e;var i=n.index,o=n[0];if(i>-1){var a=i+o.length+1;e=r.substring(a).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return e}function Lt(t){if(t){var r=Yt(t),e=r.versionSearch||t,n=kt(e,At);return n}}function Wt(){var t=Rt.webview,r=void 0;return Gt(_t(t,(function(t){return It(At,t.criteria)})),(function(t){return r=kt(t.browserVersionSearch,At),!(!It(At,t.webviewToken)&&!It(r,t.webviewBrowserVersion))}))}function Ft(t){return jt(Rt.os,t)}function Ht(){return Nt(Rt.os,Rt.defaultString.os)}function qt(t){var r=Ft(t)||{},e=Rt.defaultString.os.version,n=void 0;if(t){if(r.versionAlias)return r.versionAlias;var i=r.versionSearch||t,o=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i"),a=o.exec(At);return a&&(n=o.exec(At)[2].replace(/_/g,".").replace(/;|\)/g,"")),n||e}}function Vt(){var t=Ht(),r=qt(t);return{name:t,version:r}}function Ut(){var t=Xt(),r=Lt(t);return{name:t,version:r,webview:Wt()}}function $t(){return-1!==At.indexOf("Mobi")}function Kt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt.userAgent;Tt(t);var r={os:Vt(),browser:Ut(),isMobile:$t()};return r.browser.name=r.browser.name.toLowerCase(),r.os.name=r.os.name.toLowerCase(),r.os.version=r.os.version.toLowerCase(),"ios"===r.os.name&&r.browser.webview&&(r.browser.version="-1"),r}Kt.VERSION="2.1.5";var Zt=Kt;function Jt(t,r,e,n,i,o){for(var a=e;a<n;++a)t[a]+=t[i+a-e]*o,r[a]+=r[i+a-e]*o}function Qt(t,r,e,n,i){for(var o=e;o<n;++o){var a=t[o],s=r[o];t[o]=t[i+o-e],t[i+o-e]=a,r[o]=r[i+o-e],r[i+o-e]=s}}function tr(t,r,e,n,i){for(var o=e;o<n;++o)t[o]/=i,r[o]/=i}function rr(t,r,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=0;i<e;++i)n[i*e+r-1]=0,n[(r-1)*e+i]=0;return n[(r-1)*(e+1)]=1,n}function er(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var e=t.slice(),n=yr(r),i=0;i<r;++i){var o=r*i,a=r*(i+1),s=o+i;if(0===e[s])for(var u=i+1;u<r;++u)if(e[r*u+i]){Qt(e,n,o,a,r*u);break}if(!e[s])return[];tr(e,n,o,a,e[s]);for(u=0;u<r;++u){var c=r*u,f=c+r,l=c+i,p=e[l];0!==p&&i!==u&&Jt(e,n,c,f,o,-p)}}return n}function nr(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var e=[],n=0;n<r;++n)for(var i=0;i<r;++i)e[i*r+n]=t[r*n+i];return e}function ir(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=Math.atan2(n,e);return i>=0?i:i+2*Math.PI}function or(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var e=[],n=0;n<r-1;++n)e[n]=t[(n+1)*r-1];return e[r-1]=0,e}function ar(t,r){for(var e=t.slice(),n=t.length;n<r-1;++n)e[n]=0;return e[r-1]=1,e}function sr(t,r,e){if(void 0===r&&(r=Math.sqrt(t.length)),r===e)return t;for(var n=yr(e),i=Math.min(r,e),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)n[o*e+a]=t[o*r+a];n[(o+1)*e-1]=t[(o+1)*r-1],n[(e-1)*e+o]=t[(r-1)*r+o]}return n[e*e-1]=t[r*r-1],n}function ur(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=yr(t);return r.forEach((function(r){n=cr(n,r,t)})),n}function cr(t,r,e){var n=[],i=t.length/e,o=r.length/i;if(!i)return r;if(!o)return t;for(var a=0;a<e;++a)for(var s=0;s<o;++s){n[a*o+s]=0;for(var u=0;u<i;++u)n[a*o+s]+=t[a*i+u]*r[u*o+s]}return n}function fr(t,r,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=t.length/e,o=r.length/i,a=0;a<e;++a)for(var s=0;s<o;++s){n[a+s*o]=0;for(var u=0;u<i;++u)n[a+s*o]+=t[a+u*i]*r[u+s*o]}return n}function lr(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length,n=0,i=e-1;i>=0;--i)n+=t[i];return e?n/e:0}function pr(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),i=0;i<e;++i)n[i]=n[i]+r[i];return n}function dr(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),i=0;i<e;++i)n[i]=n[i]-r[i];return n}function hr(t,r,e){void 0===e&&(e=r.length);var n=cr(t,r,e),i=n[e-1];return n.map((function(t){return t/i}))}function vr(t,r){return hr(br(r,3),ar(t,3))}function gr(t){return 6===t.length?[t[0],t[2],t[4],t[1],t[3],t[5],0,0,1]:nr(t)}function mr(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:nr(t)}function br(t,r){var e=Math.cos(t),n=Math.sin(t),i=yr(r);return i[0]=e,i[1]=-n,i[r]=n,i[r+1]=e,i}function yr(t){for(var r=t*t,e=[],n=0;n<r;++n)e[n]=n%(t+1)?0:1;return e}function xr(t,r){for(var e=yr(r),n=Math.min(t.length,r-1),i=0;i<n;++i)e[(r+1)*i]=t[i];return e}function Er(t,r){for(var e=yr(r),n=Math.min(t.length,r-1),i=0;i<n;++i)e[r*(i+1)-1]=t[i];return e}function Sr(t,r,e,n,i,o,a,s){var u=t[0],c=t[1],f=r[0],l=r[1],p=e[0],d=e[1],h=n[0],v=n[1],g=i[0],m=i[1],b=o[0],y=o[1],x=a[0],E=a[1],S=s[0],M=s[1],w=[u,c,1,0,0,0,-g*u,-g*c,0,0,0,u,c,1,-m*u,-m*c,f,l,1,0,0,0,-b*f,-b*l,0,0,0,f,l,1,-y*f,-y*l,p,d,1,0,0,0,-x*p,-x*d,0,0,0,p,d,1,-E*p,-E*d,h,v,1,0,0,0,-S*h,-S*v,0,0,0,h,v,1,-M*h,-M*v],D=er(w,8);if(!D.length)return[];var C=cr(D,[g,m,b,y,x,E,S,M],8);return C[8]=1,sr(C,3,4)}function Mr(t){var r=5381,e=t.length;while(e)r=33*r^t.charCodeAt(--e);return r>>>0}var wr=Mr;function Dr(t){return wr(t).toString(36)}function Cr(t){if(t.getRootNode){var r=t.getRootNode();if(11===r.nodeType)return r}}function Or(t,r,e){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=r.replace(/([^}{]*){/gm,(function(r,e){return T(e).map((function(r){return r.indexOf(":global")>-1?r.replace(/\:global/g,""):r.indexOf(":host")>-1?""+r.replace(/\:host/g,"."+t):"."+t+" "+r})).join(", ")+"{"})),(e||document.head||document.body).appendChild(n),n}function zr(t){var r,e="rCS"+Dr(t),n=0;return{className:e,inject:function(i){var o,a=Cr(i),s=0===n;return(a||s)&&(o=Or(e,t,a)),s&&(r=o),a||++n,{destroy:function(){a?(i.removeChild(o),o=null):(n>0&&--n,0===n&&r&&(r.parentNode.removeChild(r),r=null))}}}}}var Br=zr,Pr=function(t,r){return Pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},Pr(t,r)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Rr(t,r){function e(){this.constructor=t}Pr(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var _r=function(){return _r=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},_r.apply(this,arguments)};function Gr(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]])}return e}function Ar(t,r){var e=Br(r);return function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return Rr(n,r),n.prototype.render=function(){var r=this.props,n=r.className,i=void 0===n?"":n,o=Gr(r,["className"]);return at(t,_r({ref:d(this,"element"),className:i+" "+e.className},o))},n.prototype.componentDidMount=function(){this.injectResult=e.inject(this.element)},n.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.prototype.getElement=function(){return this.element},n}(yt)}var Tr=Ar,Ir=function(){return Ir=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},Ir.apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Nr(t,r,e,n){var i=Hr(t),o=Hr(r),a=Hr(n),s=qr(n[0],Vr(i,a)),u=qr(n[0],Vr(o,a));return Yr(s,u,e[0])}function jr(t){return t.touches&&t.touches.length>=2}function Xr(t){return t.touches?Wr(t.touches):[Fr(t)]}function Yr(t,r,e){var n=t.clientX,i=t.clientY,o=r.clientX,a=r.clientY,s=e.clientX,u=e.clientY,c=n-o,f=i-a,l=n-s,p=i-u;return{clientX:n,clientY:i,deltaX:c,deltaY:f,distX:l,distY:p}}function kr(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Lr(t,r,e){return t.map((function(t,n){return Yr(t,r[n],e[n])}))}function Wr(t){for(var r=Math.min(t.length,2),e=[],n=0;n<r;++n)e.push(Fr(t[n]));return e}function Fr(t){return{clientX:t.clientX,clientY:t.clientY}}function Hr(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function qr(t,r){return{clientX:t.clientX+r.clientX,clientY:t.clientY+r.clientY}}function Vr(t,r){return{clientX:t.clientX-r.clientX,clientY:t.clientY-r.clientY}}var Ur=function(){function t(t,r){var e=this;void 0===r&&(r={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(e.flag||!1!==t.cancelable){if(jr(t)){if(!e.flag&&t.touches.length!==t.changedTouches.length)return;e.pinchFlag||e.onPinchStart(t)}if(!e.flag){var r=e.startClients[0]?e.startClients:Xr(t);e.customDist=[0,0],e.flag=!0,e.isDrag=!1,e.startClients=r,e.prevClients=r,e.datas={},e.movement=0;var n=Yr(r[0],e.prevClients[0],e.startClients[0]),i=e.options,o=i.dragstart,a=i.preventRightClick,s=i.preventDefault;(a&&3===t.which||!1===(o&&o(Ir({datas:e.datas,inputEvent:t},n))))&&(e.startClients=[],e.prevClients=[],e.flag=!1),e.flag&&s&&t.preventDefault()}}},this.onDrag=function(t,r){if(e.flag){var n=Xr(t);e.pinchFlag&&e.onPinch(t,n);var i=e.move([0,0],t,n);if(i&&(i.deltaX||i.deltaY)){var o=e.options.drag;o&&o(Ir({},i,{isScroll:!!r,inputEvent:t}))}}},this.onDragEnd=function(t){if(e.flag){e.pinchFlag&&e.onPinchEnd(t),e.flag=!1;var r=e.options.dragend,n=e.prevClients,i=e.startClients,o=e.pinchFlag?Nr(n,n,i,e.startPinchClients):Yr(n[0],n[0],i[0]);e.startClients=[],e.prevClients=[],r&&r(Ir({datas:e.datas,isDrag:e.isDrag,inputEvent:t},o))}},this.options=Ir({container:t,preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},r);var n=this.options,i=n.container,o=n.events;if(this.isTouch=o.indexOf("touch")>-1,this.isMouse=o.indexOf("mouse")>-1,this.customDist=[0,0],this.isMouse&&(H(t,"mousedown",this.onDragStart),H(i,"mousemove",this.onDrag),H(i,"mouseup",this.onDragEnd)),this.isTouch){var a={passive:!1};H(t,"touchstart",this.onDragStart,a),H(i,"touchmove",this.onDrag,a),H(i,"touchend",this.onDragEnd,a)}}var r=t.prototype;return r.isDragging=function(){return this.isDrag},r.isFlag=function(){return this.flag},r.isPinching=function(){return this.isPinch},r.scrollBy=function(t,r,e,n){void 0===n&&(n=!0),this.flag&&(this.startClients.forEach((function(e){e.clientX-=t,e.clientY-=r})),this.prevClients.forEach((function(e){e.clientX-=t,e.clientY-=r})),n&&this.onDrag(e,!0))},r.move=function(t,r,e){var n=t[0],i=t[1];void 0===e&&(e=this.prevClients);var o=this.customDist,a=this.prevClients,s=this.startClients,u=this.pinchFlag?Nr(e,a,s,this.startPinchClients):Yr(e[0],a[0],s[0]);o[0]+=n,o[1]+=i,u.deltaX+=n,u.deltaY+=i;var c=u.deltaX,f=u.deltaY;return u.distX+=o[0],u.distY+=o[1],this.movement+=Math.sqrt(c*c+f*f),this.prevClients=e,this.isDrag=!0,Ir({datas:this.datas},u,{isScroll:!1,inputEvent:r})},r.onPinchStart=function(t){var r,e,n=this.options,i=n.pinchstart,o=n.pinchThreshold;if(!(this.isDrag&&this.movement>o)){var a=Wr(t.changedTouches);if(this.pinchFlag=!0,(r=this.startClients).push.apply(r,a),(e=this.prevClients).push.apply(e,a),this.startDistance=kr(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,u=Hr(s),c=Yr(u,u,u);i(Ir({datas:this.datas,touches:Lr(s,s,s)},c,{inputEvent:t}))}}},r.onPinch=function(t,r){if(this.flag&&this.pinchFlag){this.isPinch=!0;var e=this.options.pinch;if(e){var n=this.prevClients,i=this.startClients,o=Yr(Hr(r),Hr(n),Hr(i)),a=kr(r);e(Ir({datas:this.datas,touches:Lr(r,n,i),scale:a/this.startDistance,distance:a},o,{inputEvent:t}))}}},r.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var e=this.options.pinchend;if(e){var n=this.prevClients,i=this.startClients,o=Yr(Hr(n),Hr(n),Hr(i));e(Ir({datas:this.datas,isPinch:r,touches:Lr(n,n,i)},o,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},r.unset=function(){var t=this.el,r=this.options.container;this.isMouse&&(q(t,"mousedown",this.onDragStart),q(r,"mousemove",this.onDrag),q(r,"mouseup",this.onDragEnd)),this.isTouch&&(q(t,"touchstart",this.onDragStart),q(r,"touchmove",this.onDrag),q(r,"touchend",this.onDragEnd))},t}();var $r=Ur,Kr=function(t,r){return Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},Kr(t,r)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Zr(t,r){function e(){this.constructor=t}Kr(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function Jr(t){var r=t.container;return[r.scrollLeft,r.scrollTop]}var Qr=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.startRect=null,r.startPos=[],r.prevTime=0,r.timer=0,r}Zr(r,t);var e=r.prototype;return e.dragStart=function(t,r){var e=r.container.getBoundingClientRect(),n=e.top,i=e.left,o=e.width,a=e.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:n,left:i,width:o,height:a}},e.drag=function(t,r){var e=this,n=t.clientX,i=t.clientY,o=r.container,a=r.threshold,s=void 0===a?0:a,u=r.throttleTime,c=void 0===u?0:u,f=r.getScrollPosition,l=void 0===f?Jr:f,p=this,d=p.startRect,h=p.startPos,v=X(),g=Math.max(c+this.prevTime-v,0),m=[0,0];if(d.top>i-s?(h[1]>d.top||i<h[1])&&(m[1]=-1):d.top+d.height<i+s&&(h[1]<d.top+d.height||i>h[1])&&(m[1]=1),d.left>n-s?(h[0]>d.left||n<h[0])&&(m[0]=-1):d.left+d.width<n+s&&(h[0]<d.left+d.width||n>h[0])&&(m[0]=1),clearTimeout(this.timer),!m[0]&&!m[1])return!1;if(g>0)return this.timer=window.setTimeout((function(){e.drag(t,r)}),g),!1;this.prevTime=v;var b=l({container:o,direction:m});this.trigger("scroll",{container:o,direction:m,inputEvent:t});var y=l({container:o,direction:m}),x=y[0]-b[0],E=y[1]-b[1];return!(!x&&!E)&&(this.trigger("move",{offsetX:m[0]?x:0,offsetY:m[1]?E:0,inputEvent:t}),c&&(this.timer=window.setTimeout((function(){e.drag(t,r)}),c)),!0)},e.dragEnd=function(){clearTimeout(this.timer)},r}(f),te=Qr,re=function(t,r){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},re(t,r)};function ee(t,r){function e(){this.constructor=t}re(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var ne="function"===typeof Map?void 0:function(){var t=0;return function(r){return r.__DIFF_KEY__||(r.__DIFF_KEY__=++t)}}(),ie=function(t){function r(r){return void 0===r&&(r=[]),t.call(this,r,ne)||this}return ee(r,t),r}(w);var oe=ie,ae=function(t,r){return ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},ae(t,r)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function se(t,r){function e(){this.constructor=t}ae(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var ue=function(){return ue=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},ue.apply(this,arguments)};function ce(t,r){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+r+'deg);transform-origin: 16px 16px"></path></svg>'}function fe(t){var r=ce(1,t),e=ce(2,t),n=45*Math.round(t/45)%180,i=135===n?"nwse-resize":45===n?"nesw-resize":90===n?"ew-resize":"ns-resize";return"cursor:"+i+";cursor: url('"+r+"') 16 16, "+i+";cursor: -webkit-image-set(url('"+r+"') 1x, url('"+e+"') 2x) 16 16, "+i+";"}var le=Zt(),pe=le.os.name.indexOf("ios")>-1||le.browser.name.indexOf("safari")>-1,de="moveable-",he=p(de,"\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --zoom: 1;\n    --zoompx: 1px;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    width: calc(14 * var(--zoompx));\n    height: calc(14 * var(--zoompx));\n    margin-top: calc(-7 * var(--zoompx));\n    margin-left: calc(-7 * var(--zoompx));\n    border: calc(2 * var(--zoompx)) solid #fff;\n    z-index: 10;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    width: var(--zoompx);\n    height: var(--zoompx);\n\tbackground: #4af;\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top: var(--zoompx) dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left: var(--zoompx) dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before, .line.gap.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before, .line.gap.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n    width: 1px;\n    transform-origin: 50% calc(100% - 0.5px);\n    top: -40px;\n    width: var(--zoompx);\n    height: calc(40 * var(--zoompx));\n    top: calc(-40 * var(--zoompx));\n    transform-origin: 50% calc(100% - 0.5 * var(--zoompx));\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n    cursor: alias;\n    left: 50%;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n    width: calc(2 * var(--zoompx));\n}\n.line.horizontal.bold {\n    height: 2px;\n    height: calc(2 * var(--zoompx));\n}\n\n.line.gap {\n    background: #f55;\n}\n.line.gap:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n    width: calc(12 * var(--zoompx));\n    height: calc(12 * var(--zoompx));\n    margin-top: calc(-6 * var(--zoompx));\n    margin-left: calc(-6 * var(--zoompx));\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+fe(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(pe?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n"),ve=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],ge=1e-7,me=1e-9,be=Math.pow(10,10),ye=-be,xe={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Ee={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function Se(t,r){return[t[0]*r[0],t[1]*r[1]]}function Me(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return l.apply(void 0,[de].concat(t))}function we(){return yr(3)}function De(t){if(!t||"none"===t)return[1,0,0,1,0,0];if(R(t))return t;var r=I(t).value;return r.split(/s*,\s*/g).map((function(t){return parseFloat(t)}))}function Ce(t,r,e){return ur(r,Er(e,r),t,Er(e.map((function(t){return-t})),r))}function Oe(t,r,e){if("%"===r){var n=t.ownerSVGElement.viewBox.baseVal;return n[e?"width":"height"]/100}return 1}function ze(t){var r=Be(fn(t,":before"));return r.map((function(r,e){var n=N(r),i=n.value,o=n.unit;return i*Oe(t,o,0===e)}))}function Be(t){var r=t.transformOrigin;return r?r.split(" "):["0","0"]}function Pe(t,r,e){var n=document.body,i=!t||e?t:t.parentElement,o=!1,a="relative";while(i&&i!==n){r===i&&(o=!0);var s=fn(i),u=s.transform;if(a=s.position,"static"!==a||u&&"none"!==u)break;i=i.parentElement,a="relative"}return{isStatic:"static"===a,isEnd:o||!i||i===n,offsetParent:i||n}}function Re(t,r,e,n){var i,o=t.tagName.toLowerCase(),a=t.offsetLeft,s=t.offsetTop;if(n){var u=(r||document.documentElement).getBoundingClientRect();a-=u.left,s-=u.top}var c,f=P(a),l=!f;return l||"svg"===o?c=Be(e).map((function(t){return parseFloat(t)})):(c=pe?ze(t):Be(e).map((function(t){return parseFloat(t)})),l=!0,"g"===o?(a=0,s=0):(i=Te(t,c),a=i[0],s=i[1],c[0]=i[2],c[1]=i[3])),{isSVG:f,hasOffset:l,offset:[a,s],origin:c}}function _e(t,r,e){var n,i,o=t,a=[],s=!1,u=!1,c=3,f=Pe(r,r,!0).offsetParent;e&&(s=t===r,e.length>10&&(u=!0,c=4),r=t.parentElement);while(o&&!s){var l=fn(o),p=o.tagName.toLowerCase(),d=l.position,h="fixed"===d,v=l.transform,g=gr(De(v)),m=g.length;if(!u&&16===m){u=!0,c=4;for(var b=a.length,y=0;y<b;++y)a[y]=sr(a[y],3,4)}u&&9===m&&(g=sr(g,3,4));var x=Re(o,r,l,h),E=x.hasOffset,S=x.isSVG,M=x.origin,w=x.offset,D=w[0],C=w[1];"svg"===p&&i&&a.push(Ae(o,c),yr(c));var O=Pe(o,r),z=O.offsetParent,B=O.isEnd,P=O.isStatic;pe&&E&&!S&&P&&"relative"===d&&(D-=z.offsetLeft,C-=z.offsetTop,s=s||B);var R=0,_=0;if(E&&f!==z&&(R=z.clientLeft,_=z.clientTop),a.push(Ce(g,c,M),Er(E?[D-o.scrollLeft+R,C-o.scrollTop+_]:[o,M],c)),i||(i=g),n||(n=M),s||h)break;o=z,s=B}return i||(i=yr(c)),n||(n=[0,0]),{offsetContainer:f,matrixes:a,targetMatrix:i,transformOrigin:n,is3d:u}}function Ge(t,r,e,n,i,o){var a=_e(t,r,n),s=a.matrixes,u=a.is3d,c=a.targetMatrix,f=a.transformOrigin,l=a.offsetContainer,p=_e(l,e,i),d=p.matrixes,h=p.is3d,v=h||u?4:3,g="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,m=r||document.body,b=n?sr(n,o,v):yr(v),y=c,x=i?sr(i,o,v):yr(v),E=n?sr(n,o,v):yr(v),S=yr(v),M=s.length,w=Pe(m,m,!0).offsetParent;d.reverse(),s.reverse(),!u&&h&&(y=sr(y,3,4),s.forEach((function(t,r){s[r]=sr(t,3,4)}))),u&&!h&&d.forEach((function(t,r){d[r]=sr(t,3,4)})),i||d.forEach((function(t){x=cr(x,t,v)})),s.forEach((function(t,r){var e;M-2===r&&(E=b.slice()),M-1===r&&(S=b.slice()),R(t[v-1])&&(e=Ye(t[v-1],w,v,t[2*v-1],b,s[r+1]),t[v-1]=e[0],t[2*v-1]=e[1]),b=cr(b,t,v)}));var D=!g&&u;y||(y=yr(D?4:3));var C=(D?"matrix3d":"matrix")+"("+mr(g&&16===y.length?sr(y,4,3):y)+")";return x=rr(x,v,v),[x,E,S,b,y,C,f,u||h]}function Ae(t,r){var e=t.clientWidth,n=t.clientHeight,i=t.viewBox.baseVal,o=i.width||e,a=i.height||n,s=e/o,u=n/a,c=t.preserveAspectRatio.baseVal,f=c.align,l=c.meetOrSlice,p=[0,0],d=[s,u],h=[0,0];if(1!==f){var v=(f-2)%3,g=Math.floor((f-2)/3);p[0]=o*v/2,p[1]=a*g/2;var m=2===l?Math.max(u,s):Math.min(s,u);d[0]=m,d[1]=m,h[0]=(e-o)/2*v,h[1]=(n-a)/2*g}var b=xr(d,r);return b[r-1]=h[0],b[2*r-1]=h[1],Ce(b,r,p)}function Te(t,r){if(!t.getBBox)return[0,0];var e=t.getBBox(),n=t.ownerSVGElement,i=n.viewBox.baseVal,o=e.x-i.x,a=e.y-i.y;return[o,a,r[0]-o,r[1]-a]}function Ie(t,r,e){return hr(t,ar(r,e),e)}function Ne(t,r,e,n){var i=Ie(t,[0,0],n),o=Ie(t,[r,0],n),a=Ie(t,[0,e],n),s=Ie(t,[r,e],n);return[i,o,a,s]}function je(t){var r=t.map((function(t){return t[0]})),e=t.map((function(t){return t[1]})),n=Math.min.apply(Math,r),i=Math.min.apply(Math,e),o=Math.max.apply(Math,r),a=Math.max.apply(Math,e),s=o-n,u=a-i;return{left:n,top:i,right:o,bottom:a,width:s,height:u}}function Xe(t,r,e,n){var i=Ne(t,r,e,n);return je(i)}function Ye(t,r,e,n,i,o){var a,s=Ve(t),u=s[0],c=s[1],f=r.getBoundingClientRect(),l=t.getBoundingClientRect(),p=l.left-f.left+r.scrollLeft,d=l.top-f.top+r.scrollTop,h=l.width,v=l.height,g=ur(e,i,o),m=Xe(g,u,c,e),b=m.left,y=m.top,x=m.width,E=m.height,S=Ie(g,n,e),M=dr(S,[b,y]),w=[p+M[0]*h/x,d+M[1]*v/E],D=[0,0],C=0;while(++C<10){var O=er(i,e);a=dr(Ie(O,w,e),Ie(O,S,e)),D[0]=a[0],D[1]=a[1];var z=ur(e,i,Er(D,e),o),B=Xe(z,u,c,e),P=B.left,R=B.top,_=P-p,G=R-d;if(Math.abs(_)<2&&Math.abs(G)<2)break;w[0]-=_,w[1]-=G}return D.map((function(t){return Math.round(t)}))}function ke(t,r,e,n){var i=16===t.length,o=i?4:3,a=Ne(t,e,n,o),s=a[0],u=s[0],c=s[1],f=a[1],l=f[0],p=f[1],d=a[2],h=d[0],v=d[1],g=a[3],m=g[0],b=g[1],y=Ie(t,r,o),x=y[0],E=y[1],S=Math.min(u,l,h,m),M=Math.min(c,p,v,b),w=Math.max(u,l,h,m),D=Math.max(c,p,v,b);u=u-S||0,l=l-S||0,h=h-S||0,m=m-S||0,c=c-M||0,p=p-M||0,v=v-M||0,b=b-M||0,x=x-S||0,E=E-M||0;var C=[(u+l+h+m)/4,(c+p+v+b)/4],O=ir(C,[u,c]),z=ir(C,[l,p]),B=O<z&&z-O<Math.PI||O>z&&z-O<-Math.PI?1:-1;return[[S,M,w,D],[x,E],[u,c],[l,p],[h,v],[m,b],B]}function Le(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function We(t,r){return Le([r[0]-t[0],r[1]-t[1]])}function Fe(t,r,e){void 0===e&&(e=ir(t,r));var n=We(t,r);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+e+"rad)",width:n+"px"}}function He(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=r.length,i=r.reduce((function(t,r){return t+r[0]}),0)/n,o=r.reduce((function(t,r){return t+r[1]}),0)/n;return{transform:"translate("+i+"px, "+o+"px) rotate("+t+"rad)"}}function qe(t){var r=window.getComputedStyle(t);return[parseFloat(r.width),parseFloat(r.height)]}function Ve(t,r,e,n){void 0===r&&(r=window.getComputedStyle(t)),void 0===n&&(n=e||"border-box"===r.boxSizing);var i=t.offsetWidth,o=t.offsetHeight,a=!P(i);if((e||n)&&a)return[i,o];if(i=t.clientWidth,o=t.clientHeight,!a&&!i&&!o){var s=t.getBBox();return[s.width,s.height]}if(e||n){var u=parseFloat(r.borderLeftWidth)||0,c=parseFloat(r.borderRightWidth)||0,f=parseFloat(r.borderTopWidth)||0,l=parseFloat(r.borderBottomWidth)||0;return[i+u+c,o+f+l]}var p=parseFloat(r.paddingLeft)||0,d=parseFloat(r.paddingRight)||0,h=parseFloat(r.paddingTop)||0,v=parseFloat(r.paddingBottom)||0;return[i-p-d,o-h-v]}function Ue(t,r){return ir(r>0?t[0]:t[1],r>0?t[1]:t[0])}function $e(t,r,e,n,i){var o,a,s,u,c,f=0,l=0,p=0,d=0,h=[0,0],v=[0,0],g=[0,0],m=[0,0],b=[0,0],y=we(),x=we(),E=we(),S=we(),M=we(),w=0,D=0,C=[0,0],O=1,z=1,B=!1,R="",_=[0,0],G=Ke(),A=Ke(),T=0,I=i?i.beforeMatrix:void 0,N=i?i.rootMatrix:void 0,j=i?i.is3d?4:3:void 0;if(t){if(i)w=i.width,D=i.height;else{var X=fn(t);w=t.offsetWidth,D=t.offsetHeight,P(w)&&(o=Ve(t,X,!0),w=o[0],D=o[1])}a=Ge(t,r,n,I,N,j),y=a[0],E=a[1],x=a[2],S=a[3],M=a[4],R=a[5],C=a[6],B=a[7],s=ke(S,C,w,D),u=s[0],f=u[0],l=u[1],p=u[2],d=u[3],h=s[1],v=s[2],g=s[3],m=s[4],b=s[5],O=s[6];var Y=B?4:3,k=[0,0];c=ke(x,pr(C,or(M,Y)),w,D),k=c[0],_=c[1],z=c[6],_=[_[0]+k[0]-f,_[1]+k[1]-l],G=Ze(t),A=Ze(Pe(e,e,!0).offsetParent||document.body,!0),T=Ue([v,g],O)}return{rotation:T,targetClientRect:G,containerClientRect:A,beforeDirection:z,direction:O,target:t,left:f,top:l,right:p,bottom:d,pos1:v,pos2:g,pos3:m,pos4:b,width:w,height:D,rootMatrix:y,beforeMatrix:E,offsetMatrix:x,targetMatrix:M,matrix:S,targetTransform:R,is3d:B,beforeOrigin:_,origin:h,transformOrigin:C}}function Ke(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Ze(t,r){var e=t.getBoundingClientRect(),n=e.left,i=e.width,o=e.top,a=e.bottom,s=e.right,u=e.height,c={left:n,right:s,top:o,bottom:a,width:i,height:u};return r&&(c.clientLeft=t.clientLeft,c.clientTop=t.clientTop,c.clientWidth=t.clientWidth,c.clientHeight=t.clientHeight,c.scrollWidth=t.scrollWidth,c.scrollHeight=t.scrollHeight),c}function Je(t){if(t){var r=t.getAttribute("data-direction");if(r){var e=[0,0];return r.indexOf("w")>-1&&(e[0]=-1),r.indexOf("e")>-1&&(e[0]=1),r.indexOf("n")>-1&&(e[1]=-1),r.indexOf("s")>-1&&(e[1]=1),e}}}function Qe(t,r){return[pr(r,t[0]),pr(r,t[1]),pr(r,t[2]),pr(r,t[3])]}function tn(t){var r=t.left,e=t.top,n=t.pos1,i=t.pos2,o=t.pos3,a=t.pos4;return Qe([n,i,o,a],[r,e])}function rn(t){return Math.round(t%1===-.5?t-1:t)}function en(t,r){return r?Math.round(t/r)*r:t}function nn(t,r){return t.forEach((function(e,n){t[n]=en(t[n],r)})),t}function on(t,r){t[r]&&(t[r].unset(),t[r]=null)}function an(t,r,e){return(t[0]-r[0])*(e[1]-r[1])-(t[1]-r[1])*(e[0]-r[0])}function sn(t,r,e,n,i){var o=an(t,r,e),a=an(t,e,i),s=an(t,i,r),u=an(t,e,i),c=an(t,i,n),f=an(t,n,e),l=[o,a,s],p=[u,c,f];return!!(l.every((function(t){return t>=0}))||l.every((function(t){return t<=0}))||p.every((function(t){return t>=0}))||p.every((function(t){return t<=0})))}function un(t,r,e){var n=r.datas;return n.datas||(n.datas={}),ue({},e,{target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,datas:n.datas})}function cn(t,r,e,n){return n&&Bn.prototype.triggerEvent.call(t,r,e),t.triggerEvent(r,e)}function fn(t,r){return window.getComputedStyle(t,r)}function ln(t,r,e){var n={},i={};return t.filter((function(t){var o=t.name;if(n[o]||!r.some((function(r){return t[r]})))return!1;if(!e&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return n[o]=!0,!0}))}function pn(t,r,e){return t*(r?e:1/e)}function dn(t,r,e){return t*(r?1/e:e)}function hn(t,r){return t===r||null==t&&null==r}function vn(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length-1,n=0;n<e;++n){var i=t[n];if(!P(i))return i}return t[e]}function gn(t,r){var e=[],n=[];return t.forEach((function(i,o){var a=r(i,o,t),s=n.indexOf(a),u=e[s]||[];-1===s&&(n.push(a),e.push(u)),u.push(i)})),e}function mn(t,r){var e=[],n={};return t.forEach((function(i,o){var a=r(i,o,t),s=n[a];s||(s=[],n[a]=s,e.push(s)),s.push(i)})),e}function bn(t){return t.reduce((function(t,r){return t.concat(r)}),[])}function yn(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort((function(t,r){return Math.abs(r)-Math.abs(t)})),t[0]}function xn(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort((function(t,r){return Math.abs(t)-Math.abs(r)})),t[0]}function En(t,r){var e,n=t.is3d,i=t.rootMatrix,o=n?4:3;return e=hr(er(i,o),ar([r.distX,r.distY],o),o),r.distX=e[0],r.distY=e[1],r}function Sn(t,r,e){var n=un(t,e,{isPinch:!!e.isPinch}),i=r?"Group":"";r&&(n.targets=t.props.targets),cn(t,"onRender"+i+"Start",n)}function Mn(t,r,e){var n=un(t,e,{isPinch:!!e.isPinch}),i=r?"Group":"";r&&(n.targets=t.props.targets),cn(t,"onRender"+i,n)}function wn(t,r,e){var n=un(t,e,{isPinch:!!e.sPinch,isDrag:e.isDrag}),i=r?"Group":"";r&&(n.targets=t.props.targets),cn(t,"onRender"+i+"End",n)}function Dn(t,r,e,n,i,o,a){var s="Start"===i;if(s&&n.indexOf("Control")>-1&&!o.isRequest&&t.areaElement===o.inputEvent.target)return!1;var u=""+e+n+i,c=""+e+n+"Condition",f="End"===i,l=i.indexOf("After")>-1;s&&t.updateRect(i,!0,!1),""!==i||l||En(t.state,o);var p=n.indexOf("Group")>-1,d=t[r],h=d.filter((function(t){return t[u]})),v=o.datas,g=v.render||(v.render={}),m=ue({},o,{datas:g}),b=h.filter((function(r){var e=s&&r[c],n=r.name,i=v[n]||(v[n]={});return!(e&&!e(o,t))&&r[u](t,ue({},o,{datas:i}))})),y=b.length;if(s){if(h.length&&!y)return t.state.dragger=null,t.moveables&&t.moveables.forEach((function(t){t.state.dragger=null})),!1;Sn(t,p,m)}else f?wn(t,p,m):y&&Mn(t,p,m);f&&(t.state.dragger=null),t.isUnmounted||(!s&&y&&(b.some((function(t){return t.updateRect}))&&!p?t.updateRect(i,!1,!1):t.updateRect(i,!0,!1)),(!s&&y||f&&!y)&&!a&&t.forceUpdate(),s||f||l||!y||Dn(t,r,e,n,i+"After",o))}function Cn(t,r,e,n){var i={container:window,pinchThreshold:t.props.pinchThreshold};return["drag","pinch"].forEach((function(r){["Start","","End"].forEach((function(o){i[""+r+o.toLowerCase()]=function(i){return Dn(t,e,r,n,o,i)}}))})),new $r(r,i)}var On=Tr("div",he);function zn(t,r,e,n){var i=ir(r,e),o=t?en(i/Math.PI*180,15)%180:-1;return at("div",{key:"line"+n,className:Me("line","direction",t),"data-rotation":o,"data-direction":t,style:Fe(r,e,i)})}var Bn=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={container:null,target:null,beforeMatrix:we(),matrix:we(),targetMatrix:we(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],targetClientRect:Ke(),containerClientRect:Ke(),rotation:0},r.targetAbles=[],r.controlAbles=[],r.isUnmounted=!1,r}se(r,t);var e=r.prototype;return e.render=function(){var t=this.props,r=this.props,e=r.edge,n=r.parentPosition,i=r.className,o=r.target,a=r.zoom;this.checkUpdate();var s=n||{left:0,top:0},u=s.left,c=s.top,f=this.state,l=f.left,p=f.top,h=f.pos1,v=f.pos2,g=f.pos3,m=f.pos4,b=f.target,y=f.direction,x=t.targets,E=(x&&x.length||o)&&b;return at(On,{ref:d(this,"controlBox"),className:Me("control-box",-1===y?"reverse":"")+" "+i,style:{position:"absolute",display:E?"block":"none",transform:"translate("+(l-u)+"px, "+(p-c)+"px) translateZ(50px)","--zoom":a,"--zoompx":a+"px"}},this.renderAbles(),zn(e?"n":"",h,v,0),zn(e?"e":"",v,m,1),zn(e?"w":"",h,g,2),zn(e?"s":"",g,m,3))},e.componentDidMount=function(){this.controlBox.getElement();var t=this.props,r=t.parentMoveable,e=t.container;this.updateEvent(t),e||r||this.updateRect("End",!1,!0)},e.componentDidUpdate=function(t){this.updateEvent(t)},e.componentWillUnmount=function(){this.isUnmounted=!0,on(this,"targetDragger"),on(this,"controlDragger")},e.getContainer=function(){var t=this.props,r=t.parentMoveable,e=t.container;return e||r&&r.getContainer()||this.controlBox.getElement().parentElement},e.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf(de)>-1},e.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},e.isInside=function(t,r){var e=this.state,n=e.pos1,i=e.pos2,o=e.pos3,a=e.pos4,s=e.target,u=e.targetClientRect;if(!s)return!1;var c=u.left,f=u.top,l=[t-c,r-f];return sn(l,n,i,a,o)},e.updateRect=function(t,r,e){void 0===e&&(e=!0);var n=this.props,i=n.parentMoveable,o=this.state,a=o.target||this.props.target,s=this.getContainer(),u=i?i.props.rootContainer:n.rootContainer;this.updateState($e(a,s,s,u||s,r?o:void 0),!i&&e)},e.updateEvent=function(t){var r=this.controlBox.getElement(),e=this.targetAbles.length,n=this.controlAbles.length,i=this.props.target,o=t.target,a=this.props.dragArea,s=t.dragArea,u=!a&&o!==i,c=!e&&this.targetDragger||u||s!==a;c&&(on(this,"targetDragger"),this.updateState({dragger:null})),n||on(this,"controlDragger"),i&&e&&!this.targetDragger&&(this.targetDragger=Cn(this,a?this.areaElement:i,"targetAbles","")),!this.controlDragger&&n&&(this.controlDragger=Cn(this,r,"controlAbles","Control")),c&&this.unsetAbles()},e.isDragging=function(){return!!this.targetDragger&&this.targetDragger.isFlag()||!!this.controlDragger&&this.controlDragger.isFlag()},e.updateTarget=function(t){this.updateRect(t,!0)},e.getRect=function(){var t=this.state,r=tn(this.state),e=r[0],n=r[1],i=r[2],o=r[3],a=je(r),s=t.width,u=t.height,c=a.width,f=a.height,l=a.left,p=a.top,d=[t.left,t.top],h=pr(d,t.origin),v=pr(d,t.beforeOrigin);return{width:c,height:f,left:l,top:p,pos1:e,pos2:n,pos3:i,pos4:o,offsetWidth:s,offsetHeight:u,beforeOrigin:v,origin:h}},e.request=function(t,r,e){void 0===r&&(r={});var n=this.props,i=n.ables,o=n.groupable,a=i.filter((function(r){return r.name===t}))[0];if(this.isDragging()||!a||!a.request)return{request:function(){return this},requestEnd:function(){return this}};var s=this,u=a.request(this),c=u.isControl?"controlAbles":"targetAbles",f=(o?"Group":"")+(u.isControl?"Control":""),l={request:function(t){return Dn(s,c,"drag",f,"",ue({},u.request(t),{isRequest:!0}),e),this},requestEnd:function(){return Dn(s,c,"drag",f,"End",ue({},u.requestEnd(),{isRequest:!0})),this}};return Dn(s,c,"drag",f,"Start",ue({},u.requestStart(r),{isRequest:!0}),e),r.isInstant?l.request(r).requestEnd():l},e.checkUpdate=function(){var t=this.props,r=t.target,e=t.container,n=t.parentMoveable,i=this.state,o=i.target,a=i.container;if(o||r){this.updateAbles();var s=!hn(o,r)||!hn(a,e);s&&(this.updateState({target:r,container:e}),n||!e&&!this.controlBox||this.updateRect("End",!1,!1))}},e.triggerEvent=function(t,r){var e=this.props[t];return e&&e(r)},e.unsetAbles=function(){var t=this;this.targetAbles.filter((function(r){return!!r.unset&&(r.unset(t),!0)})).length&&this.forceUpdate()},e.updateAbles=function(t,r){void 0===t&&(t=this.props.ables),void 0===r&&(r="");var e=this.props,n=e.triggerAblesSimultaneously,i=t.filter((function(t){return t&&e[t.name]})),o="drag"+r+"Start",a="pinch"+r+"Start",s="drag"+r+"ControlStart",u=ln(i,[o,a],n),c=ln(i,[s],n);this.targetAbles=u,this.controlAbles=c},e.updateState=function(t,r){if(r)this.setState(t);else{var e=this.state;for(var n in t)e[n]=t[n]}},e.renderAbles=function(){var t=this,r=this.props,e=r.ables,n=r.triggerAblesSimultaneously,i=e.filter((function(t){return t&&r[t.name]})),o={createElement:at};return mn(bn(ln(i,["render"],n).map((function(r){var e=r.render;return e(t,o)||[]}))).filter((function(t){return t})),(function(t){var r=t.key;return r})).map((function(t){return t[0]}))},r.defaultProps={target:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1},r}(xt);function Pn(t){return ir([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Rn={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchThreshold:Number},pinchStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,o=r.touches,a=r.inputEvent,s=r.targets,u=t.props,c=u.pinchable,f=u.ables;if(!c)return!1;var l="onPinch"+(s?"Group":"")+"Start",p="drag"+(s?"Group":"")+"ControlStart",d=(!0===c?t.controlAbles:f.filter((function(t){return c.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[p]})),h=un(t,r,{});s&&(h.targets=s);var v=cn(t,l,h);e.isPinch=!1!==v,e.ables=d;var g=e.isPinch;if(!g)return!1;var m=Pn(o);return d.forEach((function(r){e[r.name+"Datas"]={};var o={datas:e[r.name+"Datas"],clientX:n,clientY:i,inputEvent:a,parentRotate:m,pinchFlag:!0};r[p](t,o)})),t.state.snapRenderInfo={direction:[0,0]},g},pinch:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,o=r.scale,a=r.distance,s=r.touches,u=r.inputEvent,c=r.targets;if(e.isPinch){var f=Pn(s),l=a*(1-1/o),p=un(t,r,{});c&&(p.targets=c);var d="onPinch"+(c?"Group":"");cn(t,d,p);var h=e.ables,v="drag"+(c?"Group":"")+"Control";return h.forEach((function(r){r[v](t,{clientX:n,clientY:i,datas:e[r.name+"Datas"],inputEvent:u,parentDistance:l,parentRotate:f,pinchFlag:!0})})),p}},pinchEnd:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,o=r.isPinch,a=r.inputEvent,s=r.targets;if(e.isPinch){var u="onPinch"+(s?"Group":"")+"End",c=un(t,r,{isDrag:o});s&&(c.targets=s),cn(t,u,c);var f=e.ables,l="drag"+(s?"Group":"")+"ControlEnd";return f.forEach((function(r){r[l](t,{clientX:n,clientY:i,isDrag:o,datas:e[r.name+"Datas"],inputEvent:a,pinchFlag:!0})})),o}},pinchGroupStart:function(t,r){return this.pinchStart(t,ue({},r,{targets:t.props.targets}))},pinchGroup:function(t,r){return this.pinch(t,ue({},r,{targets:t.props.targets}))},pinchGroupEnd:function(t,r){return this.pinchEnd(t,ue({},r,{targets:t.props.targets}))}};function _n(t,r,e,n,i,o){var a=r.name,s=n[a]||(n[a]=[]),u=!!e.match(/End$/g),c=t.moveables.map((function(t,n){var a=s[n]||(s[n]={}),c=A(i)?i(t,a):i,f=r[e](t,ue({},c,{datas:a,parentFlag:!0}));return f&&o&&o(t,a,f,n),u&&(t.state.dragger=null),f}));return c}function Gn(t,r){var e=r.datas,n=t.state,i=n.matrix,o=n.beforeMatrix,a=n.is3d,s=n.left,u=n.top,c=n.origin,f=n.offsetMatrix,l=n.targetMatrix,p=n.transformOrigin,d=a?4:3;e.is3d=a,e.matrix=i,e.targetMatrix=l,e.beforeMatrix=o,e.offsetMatrix=f,e.transformOrigin=p,e.inverseMatrix=er(i,d),e.inverseBeforeMatrix=er(o,d),e.absoluteOrigin=ar(pr([s,u],c),d),e.startDragBeforeDist=hr(e.inverseBeforeMatrix,e.absoluteOrigin,d),e.startDragDist=hr(e.inverseMatrix,e.absoluteOrigin,d)}function An(t,r){var e=t.datas,n=t.distX,i=t.distY,o=e.inverseBeforeMatrix,a=e.inverseMatrix,s=e.is3d,u=e.startDragBeforeDist,c=e.startDragDist,f=e.absoluteOrigin,l=s?4:3;return dr(hr(r?o:a,pr(f,[n,i]),l),r?u:c)}function Tn(t,r){var e=t.datas,n=t.distX,i=t.distY,o=e.beforeMatrix,a=e.matrix,s=e.is3d,u=e.startDragBeforeDist,c=e.startDragDist,f=e.absoluteOrigin,l=s?4:3;return dr(hr(r?o:a,pr(r?u:c,[n,i]),l),f)}function In(t,r,e,n,i,o){return void 0===n&&(n=r),void 0===i&&(i=e),void 0===o&&(o=[0,0]),t?t.map((function(t,a){var s=N(t),u=s.value,c=s.unit,f=a?i:n,l=a?e:r;if("%"===t||isNaN(u)){var p=f?o[a]/f:0;return l*p}return"%"!==c?u:l*u/100})):o}function Nn(t){var r=[];return t[1]>=0&&(t[0]>=0&&r.push(3),t[0]<=0&&r.push(2)),t[1]<=0&&(t[0]>=0&&r.push(1),t[0]<=0&&r.push(0)),r}function jn(t,r){return Nn(r).map((function(r){return t[r]}))}function Xn(t,r){var e=jn(t,r);return[lr.apply(void 0,e.map((function(t){return t[0]}))),lr.apply(void 0,e.map((function(t){return t[1]})))]}function Yn(t,r){var e=t[0],n=t[1],i=t[2],o=t[3];return Xn([o,i,n,e],r)}function kn(t,r){var e=t[0],n=t[1],i=t[2],o=t[3];return Yn([e,n,i,o],r)}function Ln(t,r,e,n,i,o){var a=Ne(r,e,n,i),s=Yn(a,o),u=t[0]-s[0],c=t[1]-s[1];return[u,c]}function Wn(t,r,e,n){return cr(t,Ce(r,n,e),n)}function Fn(t,r){var e=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,a=i?4:3;return Wn(n,cr(o,xr(r,a),a),e,a)}function Hn(t,r,e,n){var i=t.state,o=i.is3d,a=i.left,s=i.top,u=i.width,c=i.height,f=o?4:3,l=t.props.groupable,p=Fn(t.state,r),d=l?a:0,h=l?s:0,v=n||kn(tn(t.state),e),g=Ln(v,p,u,c,f,e);return dr(g,[d,h])}function qn(t,r,e,n,i,o){var a=t.props.groupable,s=t.state,u=s.transformOrigin,c=s.targetMatrix,f=s.offsetMatrix,l=s.is3d,p=s.width,d=s.height,h=s.left,v=s.top,g=l?4:3,m=In(o,r,e,p,d,u),b=a?h:0,y=a?v:0,x=Wn(f,c,m,g),E=Ln(i,x,r,e,g,n);return dr(E,[b,y])}function Vn(t,r){if(!r[0]&&!r[1])return[0,0];var e=t.props.baseDirection,n=void 0===e?[-1,-1]:e;return[r[0]?r[0]:-1*n[0],r[1]?r[1]:-1*n[1]]}function Un(t,r){return kn(tn(t.state),r)}function $n(t){return t.isRequest?t.parentDirection:L(t.inputEvent.target,Me("direction"))}function Kn(t,r,e,n,i,o){var a=i[0],s=i[1],u=o[0],c=o[1],f=[],l=n?0:1,p="vertical"===r?"horizontal":"vertical",d=gn(t.filter((function(t){var e=t.type;return e===r})),(function(t){var r=t.element;return r})).map((function(t){return t[0]})).filter((function(t){var r=t.pos,e=t.sizes;return r[l]<=c&&u<=r[l]+e[l]}));return d.forEach((function(t){var r=t.pos[n],i=r+t.sizes[n];d.forEach((function(t){var o=t.pos,u=t.sizes,c=t.element,l=o[n],h=l+u[n],v=0,g=0,m=!0;if(i<=l)g=i-l,v=h-g,a<v-e&&(m=!1);else{if(!(h<=r))return;g=r-h,v=l-g,s>v+e&&(m=!1)}if(m&&f.push({pos:"vertical"===p?[v,o[1]]:[o[0],v],element:c,sizes:u,size:0,type:p,gap:g,gapGuidelines:d}),i<=a&&s<=l){var b=(l+i-(s-a))/2;en(a-(b-e),.1)>=0&&f.push({pos:"vertical"===p?[b,o[1]]:[o[0],b],element:c,sizes:u,size:0,type:p,gap:i-a,gapGuidelines:d})}}))})),f}function Zn(t){var r=t.state,e=r.guidelines,n=r.containerClientRect,i=n.scrollHeight,o=n.scrollWidth,a=t.props,s=a.snapHorizontal,u=void 0===s||s,c=a.snapVertical,f=void 0===c||c,l=a.snapGap,p=void 0===l||l,d=a.verticalGuidelines,h=a.horizontalGuidelines,v=a.snapThreshold,g=void 0===v?5:v,m=e.slice();if(p){var b=je(tn(t.state)),y=b.top,x=b.left,E=b.bottom,S=b.right,M=e.filter((function(t){var r=t.element;return r}));m.push.apply(m,Kn(M,"horizontal",g,0,[x,S],[y,E]).concat(Kn(M,"vertical",g,1,[y,E],[x,S])))}return u&&h&&h.forEach((function(t){m.push({type:"horizontal",pos:[0,en(t,.1)],size:o})})),f&&d&&d.forEach((function(t){m.push({type:"vertical",pos:[en(t,.1),0],size:i})})),m}function Jn(t,r,e,n,i){var o=Zn(t),a=t.props,s=a.snapElement,u=void 0===s||s,c=vn(i,a.snapThreshold,5);return{vertical:ei(o,"vertical",r,c,n,u),horizontal:ei(o,"horizontal",e,c,n,u)}}function Qn(t,r,e){var n=e[0],i=e[1],o=r[0],a=r[1],s=dr(e,r),u=s[0],c=s[1],f=c>0,l=u>0,p={isSnap:!1,offset:0,pos:0},d={isSnap:!1,offset:0,pos:0};if(0===u&&0===c)return{vertical:p,horizontal:d};var h=Jn(t,u?[n]:[],c?[i]:[]),v=h.vertical,g=h.horizontal;v.posInfos.filter((function(t){var r=t.pos;return l?r>=o:r<=o})),g.posInfos.filter((function(t){var r=t.pos;return f?r>=a:r<=a})),v.isSnap=v.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=ri(v),b=m.isSnap,y=m.guideline,x=ri(g),E=x.isSnap,S=x.guideline,M=E?S.pos[1]:0,w=b?y.pos[0]:0;if(0===u)E&&(d.isSnap=!0,d.pos=S.pos[1],d.offset=i-d.pos);else if(0===c)b&&(p.isSnap=!0,p.pos=w,p.offset=n-w);else{var D=c/u,C=e[1]-D*n,O=0,z=0,B=!1;b?(z=w,O=D*z+C,B=!0):E&&(O=M,z=(O-C)/D,B=!0),B&&(p.isSnap=!0,p.pos=z,p.offset=n-z,d.isSnap=!0,d.pos=O,d.offset=i-O)}return{vertical:p,horizontal:d}}function ti(t,r,e,n){var i=t.props.snapCenter,o=i&&e,a=["left","right"],s=["top","bottom"];return o&&(a.push("center"),s.push("middle")),a=a.filter((function(t){return t in r})),s=s.filter((function(t){return t in r})),Jn(t,a.map((function(t){return r[t]})),s.map((function(t){return r[t]})),o,n)}function ri(t){var r=t.isSnap;if(!r)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=t.posInfos[0],n=e.guidelineInfos[0],i=n.offset,o=n.dist,a=n.guideline;return{isSnap:r,offset:i,dist:o,pos:e.pos,guideline:a}}function ei(t,r,e,n,i,o){if(!t||!t.length)return{isSnap:!1,posInfos:[]};var a="vertical"===r,s=a?0:1,u=e.map((function(e){var a=t.map((function(t){var r=t.pos,n=e-r[s];return{offset:n,dist:Math.abs(n),guideline:t}})).filter((function(t){var e=t.guideline,a=t.dist,s=e.type,u=e.center,c=e.element;return!(!o&&c||!i&&u||s!==r||a>n)})).sort((function(t,r){return t.dist-r.dist}));return{pos:e,guidelineInfos:a}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,r){return t.guidelineInfos[0].dist-r.guidelineInfos[0].dist}));return{isSnap:u.length>0,posInfos:u}}function ni(t,r,e){var n=[];if(e[0]&&e[1])n=[e,[-e[0],e[1]],[e[0],-e[1]]].map((function(t){return Xn(r,t)}));else if(e[0]||e[1])t.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],e].map((function(t){return Xn(r,t)})):(n=jn(r,e),n.length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]));else for(var i=[r[0],r[1],r[3],r[2],r[0]],o=0;o<4;++o)n.push(i[o]),n.push([(i[o][0]+i[o+1][0])/2,(i[o][1]+i[o+1][1])/2]);return Jn(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]})),!0,1)}function ii(t,r){return t.slice().sort((function(t,e){var n=t.sign[r],i=e.sign[r],o=t.offset[r],a=e.offset[r],s=Math.abs(o),u=Math.abs(a);return n?i?t.isBound&&e.isBound?u-s:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?s-u:t.isSnap?-1:e.isSnap||s<ge?1:u<ge?-1:s-u:-1:1}))[0]}function oi(t,r){var e=lr(r[0][0],r[1][0]),n=lr(r[0][1],r[1][1]);return{vertical:e<=t[0],horizontal:n<=t[1]}}function ai(t,r){var e,n,i=r[0],o=r[1],a=o[0]-i[0],s=o[1]-i[1];if(a)if(s){var u=s/a;e=u*(t[0]-i[0])+i[1],n=t[1]}else e=i[1],n=t[1];else e=i[0],n=t[0];return e-n}function si(t,r,e){void 0===e&&(e=ge);var n=ai(t[0],r)<=0;return t.slice(1).every((function(t){var i=ai(t,r),o=i<=0;return o===n||Math.abs(i)<=e}))}function ui(t,r,e,n,i){return void 0===i&&(i=0),n&&r-i<=t||!n&&t<=e+i?{isBound:!0,offset:n?r-t:e-t}:{isBound:!1,offset:0}}function ci(t,r,e){var n=t.props.innerBounds;if(!n)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var i=n.left,o=n.top,a=n.width,s=n.height,u=[[i,o],[i,o+s]],c=[[i,o],[i+a,o]],f=[[i+a,o],[i+a,o+s]],l=[[i,o+s],[i+a,o+s]],p=oi(e,r),d=p.horizontal,h=p.vertical;if(si([e,[i,o],[i+a,o],[i,o+s],[i+a,o+s]],r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var v=fi(r,c,h),g=fi(r,l,h),m=fi(r,u,d),b=fi(r,f,d),y=v.isBound&&g.isBound,x=v.isBound||g.isBound,E=m.isBound&&b.isBound,S=m.isBound||b.isBound,M=yn(v.offset,g.offset),w=yn(m.offset,b.offset),D=[0,0],C=!1,O=!1;return Math.abs(w)<Math.abs(M)?(D=[M,0],C=x,O=y):(D=[0,w],C=S,O=E),{isAllBound:O,isVerticalBound:x,isHorizontalBound:S,isBound:C,offset:D}}function fi(t,r,e,n){var i=t[0],o=t[1],a=r[0],s=r[1],u=o[1]-i[1],c=o[0]-i[0],f=s[1]-a[1],l=s[0]-a[0];if(l){if(!f&&u){var p=u/c,d=c?(a[1]-i[1])/p+i[0]:i[0];return ui(d,a[0],s[0],e,n)}}else if(c){var h=u?u/c*(a[0]-i[0])+i[1]:i[1];return ui(h,a[1],s[1],e,n)}return{isBound:!1,offset:0}}function li(t,r,e,n){return r.map((function(r){var i=r[0],o=r[1],a=r[2],s=ci(t,[o,a],e),u=s.isBound,c=s.offset,f=s.isVerticalBound,l=s.isHorizontalBound,p=An({datas:n,distX:c[0],distY:c[1]}).map((function(t,r){return t*(i[r]?2/i[r]:0)}));return{sign:i,isBound:u,isVerticalBound:f,isHorizontalBound:l,isSnap:!1,offset:p}}))}function pi(t,r,e){var n,i=hi(r,[0,0],!1).map((function(t){var r=t[0],e=t[1],n=t[2];return[r.map((function(t){return 2*Math.abs(t)})),e,n]})),o=li(t,i,Xn(r,[0,0]),e),a=ii(o,0),s=ii(o,1),u=0,c=0,f=a.isVerticalBound||s.isVerticalBound,l=a.isHorizontalBound||s.isHorizontalBound;return(f||l)&&(n=Tn({datas:e,distX:-a.offset[0],distY:-s.offset[1]}),u=n[0],c=n[1]),{vertical:{isBound:f,offset:u},horizontal:{isBound:l,offset:c}}}function di(t,r){var e=[],n=t[0],i=t[1];return n&&i?e.push([[0,2*i],t,[-n,i]],[[2*n,0],t,[n,-i]]):n?(e.push([[2*n,0],[n,1],[n,-1]]),r&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(e.push([[0,2*i],[1,i],[-1,i]]),r&&e.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function hi(t,r,e){return di(r,e).map((function(r){var e=r[0],n=r[1],i=r[2];return[e,Xn(t,n),Xn(t,i)]}))}function vi(t,r,e,n){var i=n?t.map((function(t){return vr(t,n)})):t,o=[e].concat(r);return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t,r){return!si(o,t)}))}function gi(t){var r=t[0],e=t[1],n=e[0]-r[0],i=e[1]-r[1];if(!n)return Math.abs(r[0]);if(!i)return Math.abs(r[1]);var o=i/n;return Math.abs((-o*r[0]+r[1])/Math.sqrt(Math.pow(o,2)+1))}function mi(t){var r=t[0],e=t[1],n=e[0]-r[0],i=e[1]-r[1];if(!n)return[r[0],0];if(!i)return[0,r[1]];var o=i/n,a=-o*r[0]+r[1];return[-a/(o+1/o),a/(o*o+1)]}function bi(t,r,e,n,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,u=o.top,c=o.width,f=o.height,l=s-n[0],p=s+c-n[0],d=u-n[1],h=u+f-n[1],v=[[l,d],[p,d],[l,h],[p,h]],g=Xn(e,[0,0]);if(!vi(e,v,g,0))return[];var m=[],b=v.map((function(t){return[Le(t),ir([0,0],t)]}));return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach((function(t){var e=ir([0,0],mi(t)),n=gi(t);m.push.apply(m,b.filter((function(t){var r=t[0];return r&&n<=r})).map((function(t){var r=t[0],i=t[1],o=Math.acos(r?n/r:0),s=i+o,u=i-o;return[a+s-e,a+u-e]})).reduce((function(t,r){return t.push.apply(t,r),t}),[]).filter((function(t){return!vi(r,v,g,t)})).map((function(t){return en(180*t/Math.PI,ge)})))})),m}function yi(t){var r=t.props.innerBounds;if(!r)return{vertical:[],horizontal:[]};var e=t.getRect(),n=e.pos1,i=e.pos2,o=e.pos3,a=e.pos4,s=[n,i,o,a],u=Xn(s,[0,0]),c=r.left,f=r.top,l=r.width,p=r.height,d=[[c,f],[c,f+p]],h=[[c,f],[c+l,f]],v=[[c+l,f],[c+l,f+p]],g=[[c,f+p],[c+l,f+p]],m=[[n,i],[i,a],[a,o],[o,n]],b=[],y=[],x={top:!1,bottom:!1,left:!1,right:!1};return m.forEach((function(t){var r=oi(u,t),e=r.horizontal,n=r.vertical,i=fi(t,h,n,1),o=fi(t,g,n,1),a=fi(t,d,e,1),s=fi(t,v,e,1);i.isBound&&!x.top&&(b.push(f),x.top=!0),o.isBound&&!x.bottom&&(b.push(f+p),x.bottom=!0),a.isBound&&!x.left&&(y.push(c),x.left=!0),s.isBound&&!x.right&&(y.push(c+l),x.right=!0)})),{horizontal:b,vertical:y}}function xi(t,r,e){var n=t.props.bounds||{},i=n.left,o=void 0===i?-1/0:i,a=n.top,s=void 0===a?-1/0:a,u=n.right,c=void 0===u?1/0:u,f=n.bottom,l=void 0===f?1/0:f,p={left:o,top:s,right:c,bottom:l};return{vertical:Si(p,r,!0),horizontal:Si(p,e,!1)}}function Ei(t,r,e){var n=t.props.bounds||{},i=n.left,o=void 0===i?-1/0:i,a=n.top,s=void 0===a?-1/0:a,u=n.right,c=void 0===u?1/0:u,f=n.bottom,l=void 0===f?1/0:f,p=e[0],d=e[1],h=dr(e,r),v=h[0],g=h[1],m=g>0,b=v>0,y={isBound:!1,offset:0,pos:0},x={isBound:!1,offset:0,pos:0};if(0===v&&0===g)return{vertical:y,horizontal:x};if(0===v)m?l<d&&(x.pos=l,x.offset=d-l):s>d&&(x.pos=s,x.offset=d-s);else if(0===g)b?c<p&&(y.pos=c,y.offset=p-c):o>p&&(y.pos=o,y.offset=p-o);else{var E=g/v,S=e[1]-E*p,M=0,w=0,D=!1;b&&c<=p?(M=E*c+S,w=c,D=!0):!b&&p<=o?(M=E*o+S,w=o,D=!0):m&&l<=d?(M=l,w=(M-S)/E,D=!0):!m&&d<=s&&(M=s,w=(M-S)/E,D=!0),D&&(y.isBound=!0,y.pos=w,y.offset=p-w,x.isBound=!0,x.pos=M,x.offset=d-M)}return{vertical:y,horizontal:x}}function Si(t,r,e){var n=t[e?"left":"top"],i=t[e?"right":"bottom"],o=Math.min.apply(Math,r),a=Math.max.apply(Math,r);return n+1>o?{isBound:!0,offset:o-n,pos:n}:i-1<a?{isBound:!0,offset:a-i,pos:i}:{isBound:!1,offset:0,pos:0}}function Mi(t,r,e){var n=e?t.map((function(t){return vr(t,e)})):t;return n.some((function(t){return t[0]<r.left&&Math.abs(t[0]-r.left)>.1||t[0]>r.right&&Math.abs(t[0]-r.right)>.1||t[1]<r.top&&Math.abs(t[1]-r.top)>.1||t[1]>r.bottom&&Math.abs(t[1]-r.bottom)>.1}))}function wi(t,r,e){var n=Le(t),i=Math.sqrt(n*n-r*r)||0;return[i,-i].sort((function(r,n){return Math.abs(r-t[e?0:1])-Math.abs(n-t[e?0:1])})).map((function(t){return ir([0,0],e?[t,r]:[r,t])}))}function Di(t,r,e,n,i){var o=t.props.bounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,u=void 0===s?-1/0:s,c=o.top,f=void 0===c?-1/0:c,l=o.right,p=void 0===l?1/0:l,d=o.bottom,h=void 0===d?1/0:d,v=u-n[0],g=p-n[0],m=f-n[1],b=h-n[1],y={left:v,top:m,right:g,bottom:b};if(!Mi(e,y,0))return[];var x=[];return[[v,0],[g,0],[m,1],[b,1]].forEach((function(t,n){var i=t[0],o=t[1];e.forEach((function(t){var e=ir([0,0],t);x.push.apply(x,wi(t,i,o).map((function(t){return a+t-e})).filter((function(t){return!Mi(r,y,t)})).map((function(t){return en(180*t/Math.PI,ge)})))}))})),x}function Ci(t){var r=t.state;if(!r.guidelines||!r.guidelines.length){var e=t.props,n=e.horizontalGuidelines,i=void 0===n?[]:n,o=e.verticalGuidelines,a=void 0===o?[]:o,s=e.elementGuidelines,u=void 0===s?[]:s,c=e.bounds,f=e.snapCenter;if(c||i.length||a.length||u.length){var l=r.containerClientRect,p=r.targetClientRect,d=p.top,h=p.left,v=l.left+l.clientLeft,g=l.top+l.clientTop,m=tn(r),b=Math.min.apply(Math,m.map((function(t){return t[0]}))),y=Math.min.apply(Math,m.map((function(t){return t[1]}))),x=rn(b-(h-v)),E=rn(y-(d-g)),S=[];u.forEach((function(t){var r=t.getBoundingClientRect(),e=r.top,n=r.left,i=r.width,o=r.height,a=e-g,s=a+o,u=n-v,c=u+i,l=[i,o];S.push({type:"vertical",element:t,pos:[en(u+x,.1),a],size:o,sizes:l}),S.push({type:"vertical",element:t,pos:[en(c+x,.1),a],size:o,sizes:l}),S.push({type:"horizontal",element:t,pos:[u,en(a+E,.1)],size:i,sizes:l}),S.push({type:"horizontal",element:t,pos:[u,en(s+E,.1)],size:i,sizes:l}),f&&(S.push({type:"vertical",element:t,pos:[en((u+c)/2+x,.1),a],size:o,sizes:l,center:!0}),S.push({type:"horizontal",element:t,pos:[u,en((a+s)/2+E,.1)],size:i,sizes:l,center:!0}))})),r.guidelines=S,r.enableSnap=!0}}}function Oi(t,r){var e=t.props,n=e.snappable,i=e.bounds,o=e.verticalGuidelines,a=e.horizontalGuidelines,s=t.state,u=s.guidelines,c=s.enableSnap;return!(!n||!c||r&&!0!==n&&n.indexOf(r)<0)&&!!(i||u&&u.length||o&&o.length||a&&a.length)}function zi(t,r,e,n,i){var o=Wi(t,r,-e,n);if(!o)return[0,0];var a=An({datas:i,distX:o[0],distY:o[1]}),s=a[0],u=a[1];return[s,u]}function Bi(t,r,e,n,i,o){var a=Ne(t,r,e,o?4:3),s=Yn(a,i);return Qe(a,dr(n,s))}function Pi(t,r){return t.isBound?t.offset:r.isSnap?r.offset:0}function Ri(t,r){return t.isBound?t.offset:r.isSnap?ri(r).offset:0}function _i(t,r,e){var n=Ei(t,r,e),i=n.horizontal,o=n.vertical,a=Qn(t,r,e),s=a.horizontal,u=a.vertical,c=Pi(i,s),f=Pi(o,u),l=Math.abs(c),p=Math.abs(f);return{horizontal:{isBound:i.isBound,isSnap:s.isSnap,offset:c,dist:l},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:f,dist:p}}}function Gi(t,r,e){void 0===e&&(e=r);var n=xi(t,e.map((function(t){return t[0]})),e.map((function(t){return t[1]}))),i=n.horizontal,o=n.vertical,a=Jn(t,r.map((function(t){return t[0]})),r.map((function(t){return t[1]}))),s=a.horizontal,u=a.vertical,c=Ri(i,s),f=Ri(o,u),l=Math.abs(c),p=Math.abs(f);return{horizontal:{isBound:i.isBound,isSnap:s.isSnap,offset:c,dist:l},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:f,dist:p}}}function Ai(t,r,e,n,i,o,a){var s=[-i[0],-i[1]],u=t.props.bounds,c=1/0,f=1/0;if(u){var l=[[i[0],-i[1]],[-i[0],i[1]]],p=u.left,d=void 0===p?-1/0:p,h=u.top,v=void 0===h?-1/0:h,g=u.right,m=void 0===g?1/0:g,b=u.bottom,y=void 0===b?1/0:b;l.forEach((function(t){var i=t[0]!==s[0],u=t[1]!==s[1],l=Xn(n,t);if(u){var p=zi(o,l,(o[1]<l[1]?y:v)-l[1],!1,a),h=p[1];isNaN(h)||(f=e+h)}if(i){var g=zi(o,l,(o[0]<l[0]?m:d)-l[0],!0,a)[0];isNaN(g)||(c=r+g)}}))}return{maxWidth:c,maxHeight:f}}function Ti(t,r,e,n,i){return e.map((function(e){var o=e[0],a=e[1],s=Xn(r,o),u=Xn(r,a),c=n?_i(t,s,u):Gi(t,[u]),f=c.horizontal,l=f.dist,p=f.offset,d=f.isBound,h=f.isSnap,v=c.vertical,g=v.dist,m=v.offset,b=v.isBound,y=v.isSnap,x=dr(a,o);if(!m&&!p)return{isBound:b||d,isSnap:y||h,sign:x,offset:[0,0]};var E=l<g,S=zi(s,u,E?m:p,E,i).map((function(t,r){return t*(x[r]?2/x[r]:0)}));return{sign:x,isBound:E?b:d,isSnap:E?y:h,offset:S}}))}function Ii(t,r){var e=[],n=[-t[0],-t[1]];return t[0]&&t[1]?(e.push([n,[t[0],-t[1]]],[n,[-t[0],t[1]]]),r&&e.push([n,t])):t[0]?r?e.push([n,[n[0],-1]],[n,[n[0],1]],[n,[t[0],-1]],[n,t],[n,[t[0],1]]):e.push([[n[0],-1],[t[0],-1]],[[n[0],0],[t[0],0]],[[n[0],1],[t[0],1]]):t[1]?r?e.push([n,[-1,n[1]]],[n,[1,n[1]]],[n,[-1,t[1]]],[n,[1,t[1]]],[n,t]):e.push([[-1,n[1]],[-1,t[1]]],[[0,n[1]],[0,t[1]]],[[1,n[1]],[1,t[1]]]):e.push([n,[1,0]],[n,[-1,0]],[n,[0,-1]],[n,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),e}function Ni(t,r,e,n,i){var o=Ii(e,n),a=hi(r,e,n),s=Ti(t,r,o,n,i).concat(li(t,a,Xn(r,[0,0]),i)),u=ii(s,0),c=ii(s,1);return{width:{isBound:u.isBound,offset:u.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function ji(t,r,e,n,i,o,a,s){var u=Xn(r,a),c=Gi(t,[u]),f=c.horizontal.offset,l=c.vertical.offset;if(l||f){var p=An({datas:s,distX:-l,distY:-f}),d=p[0],h=p[1],v=Math.min(i||1/0,e+a[0]*d),g=Math.min(o||1/0,n+a[1]*h);return[v-e,g-n]}return[0,0]}function Xi(t,r,e,n,i,o,a,s,u,c,f){for(var l=tn(t.state),p=t.props.keepRatio,d=0,h=0,v=0;v<2;++v){var g=r(d,h),m=Ni(t,g,o,p,f),b=m.width,y=m.height,x=b.isBound,E=y.isBound,S=b.offset,M=y.offset;if(1===v&&(x||(S=0),E||(M=0)),0===v&&u&&!x&&!E)return[0,0];if(p){var w=Math.abs(S)*(n?1/n:1),D=Math.abs(M)*(i?1/i:1),C=x&&E?w<D:E||!x&&w<D;C?S=n*M/i:M=i*S/n}d+=S,h+=M}if(o[0]&&o[1]){var O=Ai(t,n,i,l,o,s,f),z=O.maxWidth,B=O.maxHeight,P=ji(t,r(d,h),n+d,i+h,z,B,o,f);S=P[0],M=P[1];d+=S,h+=M}return[d,h]}function Yi(t,r,e,n){if(!Oi(t,"rotatable"))return n;var i=r.pos1,o=r.pos2,a=r.pos3,s=r.pos4,u=n*Math.PI/180,c=[i,o,a,s].map((function(t){return dr(t,e)})),f=c.map((function(t){return vr(t,u)})),l=Di(t,c,f,e,n).concat(bi(t,c,f,e,n));return l.sort((function(t,r){return Math.abs(t-n)-Math.abs(r-n)})),l.length?l[0]:n}function ki(t,r,e,n,i,o,a){if(!Oi(t,"resizable"))return[0,0];var s=t.state,u=s.matrix,c=s.is3d;return Xi(t,(function(t,o){return Bi(u,r+t,e+o,i,n,c)}),u,r,e,n,n,i,o,c,a)}function Li(t,r,e,n,i,o,a){var s=a.width,u=a.height;if(!Oi(t,"scalable"))return[0,0];var c=a.is3d,f=Xi(t,(function(t,n){return Bi(Fn(a,pr(r,[t/s,n/u])),s,u,i,e,c)}),Fn(a,r),s,u,e,n,i,o,c,a);return[f[0]/s,f[1]/u]}function Wi(t,r,e,n){var i=r[0]-t[0],o=r[1]-t[1];if(Math.abs(i)<ge&&(i=0),Math.abs(o)<ge&&(o=0),!i)return n?[0,0]:[0,e];if(!o)return n?[e,0]:[0,0];var a=o/i,s=t[1]-a*t[0];if(n){var u=a*(r[0]+e)+s;return[e,u-r[1]]}var c=(r[1]+e-s)/a;return[c-r[0],e]}function Fi(t,r){r.absolutePoses=tn(t.state)}function Hi(t,r,e,n,i){var o=r[0],a=r[1],s=e[0],u=e[1],c=n[0],f=n[1],l=i[0],p=i[1],d=-l,h=-p;if(t&&o&&a){d=0,h=0;var v=[];if(s&&u?v.push([0,p],[l,0]):s?v.push([l,0]):u?v.push([0,p]):c&&f?v.push([0,p],[l,0]):c?v.push([l,0]):f&&v.push([0,p]),v.length){v.sort((function(t,r){return Le(dr([o,a],t))-Le(dr([o,a],r))}));var g=v[0];if(g[0]&&Math.abs(o)>ge)d=-g[0],h=a*Math.abs(o+d)/Math.abs(o)-a;else if(g[1]&&Math.abs(a)>ge){var m=a;h=-g[1],d=o*Math.abs(a+h)/Math.abs(m)-o}if(t&&u&&s)if(Math.abs(d)>ge&&Math.abs(d)<Math.abs(l)){var b=Math.abs(l)/Math.abs(d);d*=b,h*=b}else if(Math.abs(h)>ge&&Math.abs(h)<Math.abs(p)){b=Math.abs(p)/Math.abs(h);d*=b,h*=b}else d=yn(-l,d),h=yn(-p,h)}}else d=o||s?-l:0,h=a||u?-p:0;return[d,h]}function qi(t,r,e,n,i){if(!Oi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Qe(i.absolutePoses,[r,e]),a=je(o),s=a.left,u=a.right,c=a.top,f=a.bottom,l=t.props.snapCenter,p=[[s,c],[u,c],[s,f],[u,f]];l&&p.push([(s+u)/2,(c+f)/2]);var d=Gi(t,p,o),h=d.vertical,v=d.horizontal,g=pi(t,o,i),m=g.vertical,b=g.horizontal,y=h.isSnap,x=v.isSnap,E=h.isBound||m.isBound,S=v.isBound||b.isBound,M=yn(h.offset,m.offset),w=yn(v.offset,b.offset),D=Hi(n,[r,e],[E,S],[y,x],[M,w]),C=D[0],O=D[1];return[{isBound:E,isSnap:y,offset:C},{isBound:S,isSnap:x,offset:O}]}function Vi(t){var r=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var e=t.guideline;r.indexOf(e)>-1||r.push(e)}))})),r}function Ui(t,r,e,n){var i=t-e,o=i<0?i+r:n,a=i<0?0:i,s=a-o;return{size:s,pos:o}}function $i(t,r,e,n){var i=[],o=gn(t.filter((function(t){var r=t.element,e=t.gap;return r&&!e})),(function(t){var e=t.element,o=t.pos,a=o[n],s=Math.min(0,a-r)<0?-1:1,u=s+"_"+o[n?0:1],c=k(i,(function(t){var r=t[0],n=t[1];return e===r&&a===n}));return c?c[2]:(i.push([e,a,u]),u)}));return o.forEach((function(t){t.sort((function(t,i){var o=Ui(t.pos[n],t.size,r,e).size-Ui(i.pos[n],t.size,r,e).size;return o||t.pos[n?0:1]-i.pos[n?0:1]}))})),o}function Ki(t,r,e,n,i,o,a,s,u,c,f){var l=r[0],p=r[1],d=r[2],h=r[3];return bn(t.map((function(t,r){var v=!0;return t.map((function(t,g){var m,b=t.pos,y=t.size,x=Ui(b[c],y,n,i),E=x.pos,S=x.size;if(S<a)return null;var M=v;v=!1;var w=s&&M?parseFloat(S.toFixed(u)):0;return f.createElement("div",{className:Me("line",l,"guideline","dashed"),"data-size":w>0?w:"",key:l+"LinkGuidline"+r+"-"+g,style:(m={},m[p]=e+E+"px",m[d]=-o+b[c?0:1]+"px",m[h]=S+"px",m)})}))})))}function Zi(t,r,e,n,i,o){var a=r[0],s=r[1],u=r[2],c=r[3];return t.map((function(t,r){var f;return o.createElement("div",{className:Me("line",a,"guideline","target","bold"),key:a+"TargetGuidline"+r,style:(f={},f[s]=e+"px",f[u]=-n+t+"px",f[c]=i+"px",f)})}))}function Ji(t,r,e,n,i,o){var a=r[0],s=r[1],u=r[2],c=r[3];return t.map((function(t,r){var f,l=t.pos,p=t.size,d=t.element;return o.createElement("div",{className:Me("line",a,"guideline",d?"bold":""),key:a+"Guidline"+r,style:(f={},f[s]=-e+l[i]+"px",f[u]=-n+l[i?0:1]+"px",f[c]=p+"px",f)})}))}function Qi(t,r,e,n,i,o,a){var s=Math.abs(o),u=i[r]+(o>0?n[0]:0);return t.filter((function(t){var n=t.pos;return n[r]<=e[r]})).sort((function(t,e){var n=t.pos,i=e.pos;return i[r]-n[r]})).filter((function(t){var e=t.pos,n=t.sizes,i=e[r];return en(i+n[r],1e-4)===en(u-s,1e-4)&&(u=i,!0)})).map((function(t){var n=-e[r]+t.pos[r]+t.sizes[r];return ue({},t,{gap:o,renderPos:r?[a,n]:[n,a]})}))}function to(t,r,e,n,i,o,a){var s=Math.abs(o),u=i[r]+(o<0?n[r]:0);return t.filter((function(t){var n=t.pos;return n[r]>e[r]})).sort((function(t,e){var n=t.pos,i=e.pos;return n[r]-i[r]})).filter((function(t){var e=t.pos,n=t.sizes,i=e[r];return en(i,1e-4)===en(u+s,1e-4)&&(u=i+n[r],!0)})).map((function(t){var n=-e[r]+t.pos[r]-s;return ue({},t,{gap:o,renderPos:r?[a,n]:[n,a]})}))}function ro(t,r,e,n){var i=t.filter((function(t){var e=t.element,n=t.gap,i=t.type;return e&&n&&i===r})),o="vertical"===r?[0,1]:[1,0],a=o[0],s=o[1];return bn(i.map((function(t,r){var i=t.pos,o=t.gap,u=t.gapGuidelines,c=t.sizes,f=xn(i[s]+c[s]-e[s],i[s]-e[s]-n[s]),l=Math.min(c[s],n[s]);f>0&&f>l?f=2*(f-l/2):f<0&&f<-l&&(f=2*(f+l/2));var p=(f>0?0:n[s])+f/2;return Qi(u,a,e,n,i,o,p).concat(to(u,a,e,n,i,o,p))})))}function eo(t,r,e,n,i){var o=n[0],a=n[1],s=n[2],u=n[3],c=t.props,f=c.snapDigit,l=void 0===f?0:f,p=c.isDisplaySnapDigit,d=void 0===p||p,h="vertical"===e?"horizontal":"vertical",v="vertical"===e?[0,1]:[1,0],g=v[0],m=v[1];return r.map((function(t,r){var e,n=t.renderPos,c=t.gap,f=Math.abs(c),p=d?parseFloat(f.toFixed(l)):0;return i.createElement("div",{className:Me("line",o,"guideline","gap"),"data-size":p,key:h+"GapGuideline"+r,style:(e={},e[a]=n[g]+"px",e[s]=n[m]+"px",e[u]=f+"px",e)})}))}function no(t,r,e,n,i){var o=xi(t,r,e),a=o.vertical,s=a.isBound,u=a.pos,c=o.horizontal,f=c.isBound,l=c.pos;s&&n.indexOf(u)<0&&n.push(u),f&&i.indexOf(l)<0&&i.push(l);var p=yi(t),d=p.vertical,h=p.horizontal;n.push.apply(n,d.filter((function(t){return n.indexOf(t)<0}))),i.push.apply(i,h.filter((function(t){return i.indexOf(t)<0})))}var io={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object},render:function(t,r){var e=t.state,n=e.top,i=e.left,o=e.pos1,a=e.pos2,s=e.pos3,u=e.pos4,c=e.snapRenderInfo,f=e.targetClientRect,l=e.containerClientRect,p=f.left-l.left-l.clientLeft,d=f.top-l.top-l.clientTop,h=Math.min(o[0],a[0],s[0],u[0]),v=Math.min(o[1],a[1],s[1],u[1]);if(!c||!Oi(t,""))return[];var g=t.props,m=g.snapThreshold,b=void 0===m?5:m,y=g.snapDigit,x=void 0===y?0:y,E=g.isDisplaySnapDigit,S=void 0===E||E,M=tn(t.state),w=je(M),D=w.width,C=w.height,O=w.top,z=w.left,B=w.bottom,P=w.right,R=[],_=[],G=[],A=[],T=[];if(c.direction&&T.push(ni(t,M,c.direction)),c.snap){var I=je(M);c.center&&(I.middle=(I.top+I.bottom)/2,I.center=(I.left+I.right)/2),T.push(ti(t,I,!0,1))}T.forEach((function(t){var r=t.vertical.posInfos,e=t.horizontal.posInfos;R.push.apply(R,r.map((function(t){return t.pos}))),_.push.apply(_,e.map((function(t){return t.pos}))),G.push.apply(G,Vi(r)),A.push.apply(A,Vi(e))})),no(t,[z,P],[O,B],R,_);var N=$i(A,p,D,0),j=$i(G,d,C,1),X=["horizontal","left","top","width"],Y=["vertical","top","left","height"],k=ro(G,"vertical",[i,n],[D,C]),L=ro(A,"horizontal",[i,n],[D,C]),W=G.concat(A);return cn(t,"onSnap",{guidelines:W.filter((function(t){var r=t.element;return!r})),elements:gn(W.filter((function(t){var r=t.element;return r})),(function(t){var r=t.element;return r})),gaps:k.concat(L)},!0),eo(t,k,"vertical",X,r).concat(eo(t,L,"horizontal",Y,r),Ki(N,X,h,p,D,n,b,S,x,0,r),Ki(j,Y,v,d,C,i,b,S,x,1,r),Zi(_,X,h,n,D,r),Zi(R,Y,v,i,C,r),Ji(A,X,i,n,0,r),Ji(G,Y,n,i,1,r))},dragStart:function(t,r){t.state.snapRenderInfo={snap:!0,center:!0},Ci(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return $n(t)||ho(t)},dragControlStart:function(t,r){t.state.snapRenderInfo=null,Ci(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,r){this.dragStart(t,r)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,r){t.state.snapRenderInfo=null,Ci(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var r=t.state;r.enableSnap=!1,r.guidelines=[],r.snapRenderInfo=null}},oo={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number},render:function(t,r){var e=t.props.throttleDragRotate,n=t.state,i=n.dragInfo,o=n.beforeOrigin;if(e&&i){var a=i.dist;if(a[0]||a[1]){var s=Le(a),u=ir(a,[0,0]);return r.createElement("div",{className:Me("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:s+"px",transform:"translate("+o[0]+"px, "+o[1]+"px) rotate("+u+"rad)"}})}}},dragStart:function(t,r){var e=r.datas,n=r.parentEvent,i=r.parentDragger,o=t.state,a=o.targetTransform,s=o.target,u=o.dragger;if(u)return!1;o.dragger=i||t.targetDragger;var c=window.getComputedStyle(s);e.datas={},e.left=parseFloat(c.left||"")||0,e.top=parseFloat(c.top||"")||0,e.bottom=parseFloat(c.bottom||"")||0,e.right=parseFloat(c.right||"")||0,e.transform=a,e.startTranslate=[0,0],Gn(t,{datas:e}),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,Fi(t,e);var f=un(t,r,{set:function(t){e.startTranslate=t}}),l=n||cn(t,"onDragStart",f);return!1!==l?(e.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.dragger=null,e.isPinch=!1),!!e.isDrag&&f},drag:function(t,r){var e=r.datas,n=r.parentEvent,i=r.parentFlag,o=r.distX,a=r.distY,s=e.isPinch,u=e.isDrag,c=e.prevDist,f=e.prevBeforeDist,l=e.transform,p=e.startTranslate;if(u){var d=t.props,h=d.parentMoveable,v=n?0:d.throttleDrag||0,g=n?0:d.throttleDragRotate||0,m=!1,b=0;if(g>0&&(o||a)){var y=en(180*ir([0,0],[o,a])/Math.PI,g),x=Le([o,a]);b=y*Math.PI/180,o=x*Math.cos(b),a=x*Math.sin(b)}if(!s&&!n&&!i&&(o||a)){var E=qi(t,o,a,g,e),S=E[0],M=E[1],w=S.isSnap,D=S.isBound,C=S.offset,O=M.isSnap,z=M.isBound,B=M.offset;m=w||O||D||z,o+=C,a+=B}e.passDistX=o,e.passDistY=a;var P=pr(An({datas:e,distX:o,distY:a},!0),p),R=pr(An({datas:e,distX:o,distY:a},!1),p);g||m||(nn(R,v),nn(P,v));var _=dr(P,p),G=dr(R,p),A=dr(G,c),T=dr(_,f);e.prevDist=G,e.prevBeforeDist=_;var I=e.left+_[0],N=e.top+_[1],j=e.right-_[0],X=e.bottom-_[1],Y=l+" translate("+G[0]+"px, "+G[1]+"px)";if(t.state.dragInfo.dist=n?[0,0]:G,n||h||!A.every((function(t){return!t}))||!T.some((function(t){return!t}))){var k=un(t,r,{transform:Y,dist:G,delta:A,translate:R,beforeDist:_,beforeDelta:T,beforeTranslate:P,left:I,top:N,right:j,bottom:X,isPinch:s});return!n&&cn(t,"onDrag",k),k}}},dragEnd:function(t,r){var e=r.parentEvent,n=r.datas,i=r.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,n.isDrag)return n.isDrag=!1,!e&&cn(t,"onDragEnd",un(t,r,{isDrag:i})),i},dragGroupStart:function(t,r){var e=r.datas,n=this.dragStart(t,r);if(!n)return!1;var i=_n(t,this,"dragStart",e,r),o=ue({},n,{targets:t.props.targets,events:i}),a=cn(t,"onDragGroupStart",o);return e.isDrag=!1!==a,!!e.isDrag&&n},dragGroup:function(t,r){var e=r.datas;if(e.isDrag){var n=this.drag(t,r),i=r.datas,o=i.passDistX,a=i.passDistY,s=_n(t,this,"drag",e,ue({},r,{distX:o,distY:a}));if(n){var u=ue({targets:t.props.targets,events:s},n);return cn(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isDrag)return this.dragEnd(t,r),_n(t,this,"dragEnd",n,r),cn(t,"onDragGroupEnd",un(t,r,{targets:t.props.targets,isDrag:e})),e},request:function(t){var r={},e=t.getRect(),n=0,i=0;return{isControl:!1,requestStart:function(t){return{datas:r}},request:function(t){return"x"in t?n=t.x-e.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-e.top:"deltaY"in t&&(i+=t.deltaY),{datas:r,distX:n,distY:i}},requestEnd:function(){return{datas:r,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function ao(t,r,e,n){void 0===n&&(n=!0);var i=t.dragger.move(r,e);return ue({},n?En(t,i):i,{parentEvent:!0})}var so=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var r=t.prototype;return r.dragStart=function(t,r){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,r)},r.drag=function(t,r){return this.move([t[0]-this.prevX,t[1]-this.prevY],r)},r.move=function(t,r){var e,n;return this.isFlag?(e=this.prevX+t[0],n=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],e=t[0],n=t[1],this.isFlag=!0),this.prevX=e,this.prevY=n,{clientX:e,clientY:n,inputEvent:r,isDrag:this.isDrag,distX:e-this.startX,distY:n-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function uo(t,r,e,n,i,o){var a=t.state.is3d?4:3,s=Ie(t.state.rootMatrix,i,a),u=pr([o.left,o.top],s);r.startAbsoluteOrigin=u,r.prevDeg=ir(u,[e,n])/Math.PI*180,r.prevSnapDeg=r.prevDeg,r.startDeg=r.prevDeg,r.loop=0}function co(t,r,e,n,i,o){var a=e.prevDeg,s=o+n,u=Yi(t,r,e.origin,n);e.prevDeg=u;var c=i*(u-a);return[c,u,s]}function fo(t,r,e,n,i,o,a,s){var u=e.prevDeg,c=e.prevSnapDeg,f=e.startDeg,l=e.loop;u>n&&u>270&&n<90?++e.loop:u<n&&u<90&&n>270&&--e.loop;var p=e.loop,d=360*l+c-f+o,h=360*p+n-f+o;e.prevDeg=h-360*p+f-o,h=en(h,a);var v=i*(h-o);s&&(v=Yi(t,r,e.origin,v),h=v/i+o),e.prevSnapDeg=h-360*p+f-o;var g=i*(h-d);return[g,v,h]}function lo(t,r,e,n,i,o,a,s){return fo(t,r,e,ir(e.startAbsoluteOrigin,[i,o])/Math.PI*180,n,a,s,!0)}function po(t,r,e,n,i){return"left"===t?[n,r]:"right"===t?[e,i]:"bottom"===t?[i,n]:[r,e]}function ho(t){return!!t.isRequest||L(t.inputEvent.target,Me("rotation"))}var vo={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,r){var e=t.props,n=e.rotatable,i=e.rotationPosition;if(!n)return null;var o=t.state,a=o.pos1,s=o.pos2,u=o.pos3,c=o.pos4,f=o.direction,l=po(i,a,s,u,c),p=Ue(l,f);return r.createElement("div",{key:"rotation",className:Me("line rotation-line"),style:{transform:"translate(-50%) translate("+(l[0][0]+l[1][0])/2+"px, "+(l[0][1]+l[1][1])/2+"px) rotate("+p+"rad)"}},r.createElement("div",{className:Me("control","rotation")}))},dragControlCondition:ho,dragControlStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,o=r.parentRotate,a=r.parentFlag,s=r.pinchFlag,u=r.isRequest,c=t.state,f=c.target,l=c.left,p=c.top,d=c.origin,h=c.beforeOrigin,v=c.direction,g=c.beforeDirection,m=c.targetTransform;if(!u&&!f)return!1;var b=t.getRect();if(e.rect=b,e.transform=m,e.left=l,e.top=p,u||s||a){var y=o||0;e.beforeInfo={origin:b.beforeOrigin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0},e.afterInfo={origin:b.origin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0}}else{e.beforeInfo={origin:b.beforeOrigin},e.afterInfo={origin:b.origin};var x=Ze(t.controlBox.getElement());uo(t,e.beforeInfo,n,i,h,x),uo(t,e.afterInfo,n,i,d,x)}e.direction=v,e.beforeDirection=g,e.startRotate=0,e.datas={};var E=un(t,r,{set:function(t){e.startRotate=t}}),S=cn(t,"onRotateStart",E);return e.isRotate=!1!==S,t.state.snapRenderInfo={},!!e.isRotate&&E},dragControl:function(t,r){var e,n,i,o,a,s,u=r.datas,c=r.clientX,f=r.clientY,l=r.parentRotate,p=r.parentFlag,d=r.pinchFlag,h=u.direction,v=u.beforeDirection,g=u.beforeInfo,m=u.afterInfo,b=u.isRotate,y=u.startRotate,x=u.rect;if(b){var E,S,M,w,D,C,O=t.props,z=O.throttleRotate,B=void 0===z?0:z,P=O.parentMoveable;if("parentDist"in r){var R=r.parentDist;e=co(t,x,m,R,h,y),E=e[0],S=e[1],M=e[2],n=co(t,x,g,R,h,y),w=n[0],D=n[1],C=n[2]}else d||p?(i=fo(t,x,m,l,h,y,B),E=i[0],S=i[1],M=i[2],o=fo(t,x,g,l,h,y,B),w=o[0],D=o[1],C=o[2]):(a=lo(t,x,m,h,c,f,y,B),E=a[0],S=a[1],M=a[2],s=lo(t,x,g,v,c,f,y,B),w=s[0],D=s[1],C=s[2]);if(E||w||P){var _=un(t,r,{delta:E,dist:S,rotate:M,beforeDist:D,beforeDelta:w,beforeRotate:C,transform:u.transform+" rotate("+S+"deg)",isPinch:!!d});return cn(t,"onRotate",_),_}}},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isRotate&&(e.isRotate=!1,cn(t,"onRotateEnd",un(t,r,{isDrag:n})),n)},dragGroupControlCondition:ho,dragGroupControlStart:function(t,r){var e=r.datas,n=r.inputEvent,i=t.state,o=i.left,a=i.top,s=i.beforeOrigin,u=this.dragControlStart(t,r);if(!u)return!1;u.set(t.rotation);var c=_n(t,this,"dragControlStart",e,ue({},r,{parentRotate:0}),(function(t,r,e){var i=t.state,u=i.left,c=i.top,f=i.beforeOrigin,l=pr(dr([u,c],[o,a]),dr(f,s));r.prevClient=l,e.dragStart=oo.dragStart(t,(new so).dragStart(l,n))})),f=ue({},u,{targets:t.props.targets,events:c}),l=cn(t,"onRotateGroupStart",f);return e.isRotate=!1!==l,!!e.isRotate&&u},dragGroupControl:function(t,r){var e=r.inputEvent,n=r.datas;if(n.isRotate){var i=this.dragControl(t,r);if(i){var o=i.beforeDist,a=i.beforeDelta,s=a/180*Math.PI,u=_n(t,this,"dragControl",n,ue({},r,{parentRotate:o}),(function(t,r,n,i){var o=r.prevClient,a=o[0],u=o[1],c=vr([a,u],s),f=c[0],l=c[1],p=[f-a,l-u];r.prevClient=[f,l];var d=oo.drag(t,ao(t.state,p,e,!1));n.drag=d}));t.rotation=i.beforeRotate;var c=ue({targets:t.props.targets,events:u,set:function(r){t.rotation=r}},i);return cn(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isRotate){this.dragControlEnd(t,r),_n(t,this,"dragControlEnd",n,r);var i=un(t,r,{targets:t.props.targets,isDrag:e});return cn(t,"onRotateGroupEnd",i),e}},request:function(){var t={},r=0;return{isControl:!0,requestStart:function(r){return{datas:t}},request:function(e){return r+=e.deltaRotate,{datas:t,parentDist:r}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function go(t,r,e){var n=t.state,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,u=n.rotation,c=t.props.renderDirections,f=void 0===c?r:c,l=[i,o,a,s],p={};return f.forEach((function(t){p[t]=!0})),f.map((function(t){var r=xe[t];if(!r||!p[t])return null;var n=(en(u/Math.PI*180,15)+Ee[t])%180;return e.createElement("div",{className:Me("control","direction",t),"data-rotation":n,"data-direction":t,key:"direction-"+t,style:He.apply(void 0,[u].concat(r.map((function(t){return l[t]}))))})}))}function mo(t,r){return go(t,["nw","ne","sw","se","n","w","s","e"],r)}function bo(t,r){return go(t,["nw","ne","sw","se"],r)}var yo={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,r){var e=t.props,n=e.resizable,i=e.edge;if(n)return i?bo(t,r):mo(t,r)},dragControlCondition:$n,dragControlStart:function(t,r){var e,n=r.inputEvent,i=r.pinchFlag,o=r.parentDirection,a=r.datas,s=o||(i?[1,1]:Je(n.target)),u=t.state,c=u.target,f=u.width,l=u.height;if(!s||!c)return!1;!i&&Gn(t,{datas:a}),a.datas={},a.direction=s,a.startOffsetWidth=f,a.startOffsetHeight=l,a.prevWidth=0,a.prevHeight=0,e=qe(c),a.startWidth=e[0],a.startHeight=e[1],a.transformOrigin=t.props.transformOrigin,a.startDirection=Vn(t,s),a.fixedPosition=Un(t,a.startDirection),a.fixedOriginalPosition=Un(t,s);var p=un(t,r,{direction:s,set:function(t){var r=t[0],e=t[1];a.startWidth=r,a.startHeight=e},setOrigin:function(t){a.transformOrigin=t},dragStart:oo.dragStart(t,(new so).dragStart([0,0],n))}),d=cn(t,"onResizeStart",p);return!1!==d&&(a.isResize=!0,t.state.snapRenderInfo={direction:s}),!!a.isResize&&p},dragControl:function(t,r){var e=r.datas,n=r.distX,i=r.distY,o=r.parentFlag,a=r.pinchFlag,s=r.parentDistance,u=r.parentScale,c=r.inputEvent,f=r.parentKeepRatio,l=r.dragClient,p=r.parentDist,d=e.direction,h=e.isResize,v=e.transformOrigin;if(h){var g=e.startWidth,m=e.startHeight,b=e.startOffsetWidth,y=e.startOffsetHeight,x=e.prevWidth,E=e.prevHeight,S=t.props,M=S.throttleResize,w=void 0===M?0:M,D=S.parentMoveable,C=d;d[0]||d[1]||(C=[1,1]);var O=t.props.keepRatio||f,z=C[0]||!C[1],B=z?y/b:b/y,P=O||o?d:e.startDirection,R=l||(O?e.fixedOriginalPosition:e.fixedPosition),_=0,G=0;if(p)_=p[0],G=p[1];else if(u)_=(u[0]-1)*b,G=(u[1]-1)*y;else if(a)s&&(_=s,G=s*y/b);else{var A=An({datas:e,distX:n,distY:i});if(_=C[0]*A[0],G=C[1]*A[1],O&&b&&y){var T=ir([0,0],A),I=ir([0,0],C),N=ir([0,0],[b,y]),j=Le([_,G]),X=Math.cos(T-I)*j;C[0]?C[1]?(_=Math.cos(N)*X,G=Math.sin(N)*X):(_=X,G=pn(_,z,B)):(G=X,_=dn(G,z,B))}}var Y=C[0]||O?Math.max(b+_,ge):b,k=C[1]||O?Math.max(y+G,ge):y;O&&b&&y&&(k=Y*y/b);var L=[0,0];if(a||(L=ki(t,Y,k,d,e.fixedOriginalPosition,p,e)),p&&(!p[0]&&(L[0]=0),!p[1]&&(L[1]=0)),O){C[0]&&C[1]&&L[0]&&L[1]&&(Math.abs(L[0])>Math.abs(L[1])?L[1]=0:L[0]=0);var W=!L[0]&&!L[1];W&&(z?Y=en(Y,w):k=en(k,w)),C[0]&&!C[1]||L[0]&&!L[1]||W&&z?(Y+=L[0],k=pn(Y,z,B)):(!C[0]&&C[1]||!L[0]&&L[1]||W&&!z)&&(k+=L[1],Y=dn(k,z,B))}else Y+=L[0],k+=L[1],L[0]||(Y=en(Y,w)),L[1]||(k=en(k,w));Y=Math.round(Y),k=Math.round(k),_=Y-b,G=k-y;var F=[_-x,G-E];if(e.prevWidth=_,e.prevHeight=G,D||!F.every((function(t){return!t}))){var H=!o&&a?[0,0]:qn(t,Y,k,P,R,v),q=un(t,r,{width:g+_,height:m+G,offsetWidth:Y,offsetHeight:k,direction:d,dist:[_,G],delta:F,isPinch:!!a,drag:oo.drag(t,ao(t.state,H,c,!1))});return cn(t,"onResize",q),q}}},dragControlAfter:function(t,r){var e=r.datas,n=e.isResize,i=e.startOffsetWidth,o=e.startOffsetHeight,a=e.prevWidth,s=e.prevHeight;if(n){var u=t.state,c=u.width,f=u.height,l=c-(i+a),p=f-(o+s),d=Math.abs(l)>3,h=Math.abs(p)>3;return d&&(e.startWidth+=l,e.startOffsetWidth+=l,e.prevWidth+=l),h&&(e.startHeight+=p,e.startOffsetHeight+=p,e.prevHeight+=p),d||h?(this.dragControl(t,r),!0):void 0}},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;if(!e.isResize)return!1;e.isResize=!1;var i=un(t,r,{isDrag:n});return cn(t,"onResizeEnd",i),n},dragGroupControlCondition:$n,dragGroupControlStart:function(t,r){var e=r.datas,n=this.dragControlStart(t,r);if(!n)return!1;var i=n.direction,o=Yn(tn(t.state),i),a=_n(t,this,"dragControlStart",e,(function(e,n){var a=Yn(tn(e.state),i),s=hr(br(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),u=s[0],c=s[1];return n.originalX=u,n.originalY=c,r})),s=ue({},n,{targets:t.props.targets,events:a}),u=cn(t,"onResizeGroupStart",s);return e.isResize=!1!==u,!!e.isResize&&n},dragGroupControl:function(t,r){var e=r.datas;if(e.isResize){var n=this.dragControl(t,r);if(n){var i=n.offsetWidth,o=n.offsetHeight,a=n.dist,s=t.props.keepRatio,u=[i/(i-a[0]),o/(o-a[1])],c=e.fixedOriginalPosition,f=_n(t,this,"dragControl",e,(function(e,n){var i=hr(br(t.rotation/180*Math.PI,3),[n.originalX*u[0],n.originalY*u[1],1],3),o=i[0],a=i[1];return ue({},r,{parentScale:u,dragClient:pr(c,[o,a]),parentKeepRatio:s})})),l=ue({targets:t.props.targets,events:f},n);return cn(t,"onResizeGroup",l),l}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isResize){this.dragControlEnd(t,r),_n(t,this,"dragControlEnd",n,r);var i=un(t,r,{targets:t.props.targets,isDrag:e});return cn(t,"onResizeGroupEnd",i),e}},request:function(t){var r={},e=0,n=0,i=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:r,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?e=t.offsetWidth-i.offsetWidth:"deltaWidth"in t&&(e+=t.deltaWidth),"offsetHeight"in t?n=t.offsetHeight-i.offsetHeight:"deltaHeight"in t&&(n+=t.deltaHeight),{datas:r,parentDist:[e,n]}},requestEnd:function(){return{datas:r,isDrag:!0}}}}},xo={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,r){var e=t.props,n=e.resizable,i=e.scalable,o=e.edge;if(!n&&i)return o?bo(t,r):mo(t,r)},dragControlCondition:$n,dragControlStart:function(t,r){var e=r.datas,n=r.pinchFlag,i=r.inputEvent,o=r.parentDirection,a=o||(n?[1,1]:Je(i.target)),s=t.state,u=s.width,c=s.height,f=s.targetTransform,l=s.target;if(!a||!l)return!1;n||Gn(t,{datas:e}),e.datas={},e.transform=f,e.prevDist=[1,1],e.direction=a,e.width=u,e.height=c,e.startScale=[1,1],e.fixedPosition=Un(t,a);var p=un(t,r,{direction:a,set:function(t){e.startScale=t},dragStart:oo.dragStart(t,(new so).dragStart([0,0],i))}),d=cn(t,"onScaleStart",p);return!1!==d&&(e.isScale=!0,t.state.snapRenderInfo={direction:a}),!!e.isScale&&p},dragControl:function(t,r){var e=r.datas,n=r.distX,i=r.distY,o=r.parentScale,a=r.parentDistance,s=r.parentKeepRatio,u=r.parentFlag,c=r.pinchFlag,f=r.inputEvent,l=r.dragClient,p=r.parentDist,d=e.prevDist,h=e.direction,v=e.width,g=e.height,m=e.transform,b=e.isScale,y=e.startScale;if(!b)return!1;var x=t.props,E=x.throttleScale,S=x.parentMoveable,M=t.props.keepRatio||s,w=t.state,D=h[0]||!h[1],C=v*y[0],O=g*y[1],z=D?O/C:C/O,B=1,P=1;if(o)B=o[0],P=o[1];else if(c)a&&(B=(v+a)/v,P=(g+a*g/v)/g);else{var R=An({datas:e,distX:n,distY:i}),G=h[0]*R[0],A=h[1]*R[1];if(M&&v&&g){var T=ir([0,0],R),I=ir([0,0],h),N=ir([0,0],[C,O]),j=Le([G,A]),X=Math.cos(T-I)*j;h[0]?h[1]?(G=Math.cos(N)*X,A=Math.sin(N)*X):(G=X,A=pn(G,D,z)):(A=X,G=dn(A,D,z))}B=(v+G)/v,P=(g+A)/g}B=h[0]||M?B*y[0]:y[0],P=h[1]||M?P*y[1]:y[1],0===B&&(B=(d[0]>0?1:-1)*me),0===P&&(P=(d[1]>0?1:-1)*me);var Y=[B/y[0],P/y[1]],k=[B,P],L=h;if(t.props.groupable){L=[(Y[0]>=0?1:-1)*h[0],(Y[1]>=0?1:-1)*h[1]];var W=w.snapRenderInfo||{},F=W.direction;_(F)&&(F[0]||F[1])&&(w.snapRenderInfo={direction:h})}var H=[0,0];if(c||(H=Li(t,Y,h,L,e.fixedPosition,p,e)),M){h[0]&&h[1]&&H[0]&&H[1]&&(Math.abs(H[0])>Math.abs(H[1])?H[1]=0:H[0]=0);var q=!H[0]&&!H[1];if(q&&(D?Y[0]=en(Y[0]*y[0],E)/y[0]:Y[1]=en(Y[1]*y[1],E)/y[1]),h[0]&&!h[1]||H[0]&&!H[1]||q&&D){Y[0]+=H[0];var V=pn(v*Y[0]*y[0],D,z);Y[1]=V/g/y[1]}else if(!h[0]&&h[1]||!H[0]&&H[1]||q&&!D){Y[1]+=H[1];var U=dn(g*Y[1]*y[1],D,z);Y[0]=U/v/y[0]}}else Y[0]+=H[0],Y[1]+=H[1],H[0]||(Y[0]=en(Y[0]*y[0],E)/y[0]),H[1]||(Y[1]=en(Y[1]*y[1],E)/y[1]);0===Y[0]&&(Y[0]=(d[0]>0?1:-1)*me),0===Y[1]&&(Y[1]=(d[1]>0?1:-1)*me);var $=[Y[0]/d[0],Y[1]/d[1]];if(k=Se(Y,y),e.prevDist=Y,B===d[0]&&P===d[1]&&!S)return!1;var K=!u&&c?[0,0]:Hn(t,$,h,l),Z=un(t,r,{scale:k,direction:h,dist:Y,delta:$,transform:m+" scale("+B+", "+P+")",isPinch:!!c,drag:oo.drag(t,ao(t.state,K,f,!1))});return cn(t,"onScale",Z),Z},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isScale&&(e.isScale=!1,cn(t,"onScaleEnd",un(t,r,{isDrag:n})),n)},dragGroupControlCondition:$n,dragGroupControlStart:function(t,r){var e=r.datas,n=this.dragControlStart(t,r);if(!n)return!1;var i=n.direction,o=Un(t,i);e.startPos=o;var a=_n(t,this,"dragControlStart",e,(function(e,n){var a=Un(e,i),s=hr(br(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),u=s[0],c=s[1];return n.originalX=u,n.originalY=c,r})),s=ue({},n,{targets:t.props.targets,events:a}),u=cn(t,"onScaleGroupStart",s);return e.isScale=!1!==u,!!e.isScale&&s},dragGroupControl:function(t,r){var e=r.datas;if(e.isScale){var n=this.dragControl(t,r);if(n){var i=t.props.keepRatio,o=n.scale,a=e.startPos,s=_n(t,this,"dragControl",e,(function(e,n){var s=hr(br(t.rotation/180*Math.PI,3),[n.originalX*o[0],n.originalY*o[1],1],3),u=s[0],c=s[1];return ue({},r,{parentScale:o,parentKeepRatio:i,dragClient:pr(a,[u,c])})})),u=ue({targets:t.props.targets,events:s},n);return cn(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isScale){this.dragControlEnd(t,r),_n(t,this,"dragControlEnd",n,r);var i=un(t,r,{targets:t.props.targets,isDrag:e});return cn(t,"onScaleGroupEnd",i),e}},request:function(){var t={},r=0,e=0;return{isControl:!0,requestStart:function(r){return{datas:t,parentDirection:r.direction||[1,1]}},request:function(n){return r+=n.deltaWidth,e+=n.deltaHeight,{datas:t,parentDist:[r,e]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Eo(t,r){return t.map((function(t,e){return B(t,r[e],1,2)}))}function So(t,r,e){var n=ir(t,r),i=ir(t,e),o=i-n;return o>=0?o:o+2*Math.PI}function Mo(t,r){var e=So(t[0],t[1],t[2]),n=So(r[0],r[1],r[2]),i=Math.PI;return!(e>=i&&n<=i||e<=i&&n>=i)}var wo={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,r){var e=t.props,n=e.resizable,i=e.scalable,o=e.warpable;if(!n&&!i&&o){var a=t.state,s=a.pos1,u=a.pos2,c=a.pos3,f=a.pos4,l=Eo(s,u),p=Eo(u,s),d=Eo(s,c),h=Eo(c,s),v=Eo(c,f),g=Eo(f,c),m=Eo(u,f),b=Eo(f,u);return[r.createElement("div",{className:Me("line"),key:"middeLine1",style:Fe(l,v)}),r.createElement("div",{className:Me("line"),key:"middeLine2",style:Fe(p,g)}),r.createElement("div",{className:Me("line"),key:"middeLine3",style:Fe(d,m)}),r.createElement("div",{className:Me("line"),key:"middeLine4",style:Fe(h,b)})].concat(mo(t,r))}},dragControlCondition:function(t){return!t.isRequest&&L(t.inputEvent.target,Me("direction"))},dragControlStart:function(t,r){var e=r.datas,n=r.inputEvent,i=t.props.target,o=n.target,a=Je(o);if(!a||!i)return!1;var s=t.state,u=s.transformOrigin,c=s.is3d,f=s.targetTransform,l=s.targetMatrix,p=s.width,d=s.height,h=s.left,v=s.top;e.datas={},e.targetTransform=f,e.warpTargetMatrix=c?l:sr(l,3,4),e.targetInverseMatrix=rr(er(e.warpTargetMatrix,4),3,4),e.direction=a,e.left=h,e.top=v,Gn(t,{datas:e}),e.poses=[[0,0],[p,0],[0,d],[p,d]].map((function(t,r){return dr(t,u)})),e.nextPoses=e.poses.map((function(t){var r=t[0],n=t[1];return hr(e.warpTargetMatrix,[r,n,0,1],4)})),e.startMatrix=yr(4),e.prevMatrix=yr(4),e.absolutePoses=tn(s),e.posIndexes=Nn(a),s.snapRenderInfo={direction:a};var g=un(t,r,{set:function(t){e.startMatrix=t}}),m=cn(t,"onWarpStart",g);return!1!==m&&(e.isWarp=!0),e.isWarp},dragControl:function(t,r){var e=r.datas,n=r.distX,i=r.distY,o=e.targetInverseMatrix,a=e.prevMatrix,s=e.isWarp,u=e.startMatrix,c=e.poses,f=e.posIndexes,l=e.absolutePoses;if(!s)return!1;if(Oi(t,"warpable")){var p=f.map((function(t){return l[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var d=Gi(t,p.map((function(t){return[t[0]+n,t[1]+i]}))),h=d.horizontal,v=d.vertical;i-=h.offset,n-=v.offset}var g=An({datas:e,distX:n,distY:i},!0),m=e.nextPoses.slice();if(f.forEach((function(t){m[t]=pr(m[t],g)})),!ve.every((function(t){return Mo(t.map((function(t){return c[t]})),t.map((function(t){return m[t]})))})))return!1;var b=Sr(c[0],c[1],c[2],c[3],m[0],m[1],m[2],m[3]);if(!b.length)return!1;var y=mr(cr(o,b,4)),x=e.targetTransform+" matrix3d("+y.join(",")+")",E=fr(er(a,4),y,4);return e.prevMatrix=y,cn(t,"onWarp",un(t,r,{delta:E,matrix:fr(u,y,4),multiply:fr,dist:y,transform:x})),!0},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isWarp&&(e.isWarp=!1,cn(t,"onWarpEnd",un(t,r,{isDrag:n})),n)}},Do=Me("area"),Co=Me("area-pieces"),Oo=Me("area-piece"),zo=Me("avoid");function Bo(t){var r=t.areaElement,e=t.state,n=e.width,i=e.height;F(r,zo),r.style.cssText+="left: 0px; top: 0px; width: "+n+"px; height: "+i+"px"}function Po(t){return t.createElement("div",{key:"area_pieces",className:Co},t.createElement("div",{className:Oo}),t.createElement("div",{className:Oo}),t.createElement("div",{className:Oo}),t.createElement("div",{className:Oo}))}var Ro={name:"dragArea",props:{dragArea:Boolean},render:function(t,r){var e=t.props,n=e.target,i=e.dragArea,o=e.groupable,a=t.state,s=a.width,u=a.height,c=a.pos1,f=a.pos2,l=a.pos3,p=a.pos4;if(o)return[r.createElement("div",{key:"area",ref:d(t,"areaElement"),className:Do}),Po(r)];if(!n||!i)return[];var h=Sr([0,0],[s,0],[0,u],[s,u],c,f,l,p),v=h.length?"matrix3d("+mr(h).join(",")+")":"none";return[r.createElement("div",{key:"area",ref:d(t,"areaElement"),className:Do,style:{top:"0px",left:"0px",width:s+"px",height:u+"px",transformOrigin:"0 0",transform:v}}),Po(r)]},dragStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,o=r.inputEvent;if(!o)return!1;e.isDragArea=!1,e.inputTarget=o.target;var a=t.areaElement,s=t.state,u=s.targetClientRect,c=s.pos1,f=s.pos2,l=s.pos3,p=s.pos4,d=s.width,h=s.height,v=s.rootMatrix,g=s.is3d,m=u.left,b=u.top,y=je([c,f,l,p]),x=y.left,E=y.top,S=g?4:3,M=Ne(v,d,h,S),w=je(M),D=w.left,C=w.top,O=dr([n,i],pr([m-D,b-C],M[0])),z=hr(er(v,S),ar(O,S),S),B=z[0],P=z[1],R=[{left:x,top:E,width:d,height:P-10},{left:x,top:E,width:B-10,height:h},{left:x,top:E+P+10,width:d,height:h-P-10},{left:x+B+10,top:E,width:d-B-10,height:h}],_=[].slice.call(a.nextElementSibling.children);R.forEach((function(t,r){_[r].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"})),W(a,zo)},drag:function(t,r){var e=r.datas,n=r.inputEvent;if(!n)return!1;e.isDragArea||(e.isDragArea=!0,Bo(t))},dragEnd:function(t,r){if(!r.inputEvent)return!1;var e=r.inputEvent,n=r.isDragArea,i=r.datas;i.isDragArea||Bo(t);var o=t.state.target,a=e.target;if(!n&&!t.isMoveableElement(a)){var s=o.contains(a);cn(t,"onClick",un(t,r,{inputTarget:a,isTarget:o===a,containsTarget:s}))}},dragGroupStart:function(t,r){return this.dragStart(t,r)},dragGroup:function(t,r){return this.drag(t,r)},dragGroupEnd:function(t,r){var e=r.inputEvent,n=r.isDragArea,i=r.datas;if(!e)return!1;n||Bo(t);var o=i.inputTarget,a=e.target;if(!n&&!t.isMoveableElement(a)&&o!==a){var s=t.props.targets,u=s.indexOf(a),c=u>-1,f=!1;-1===u&&(u=Y(s,(function(t){return t.contains(a)})),f=u>-1),cn(t,"onClickGroup",un(t,r,{targets:s,inputTarget:a,targetIndex:u,isTarget:c,containsTarget:f}))}}},_o={name:"origin",props:{origin:Boolean},render:function(t,r){if(!t.props.origin)return null;var e=t.state,n=e.beforeOrigin,i=e.rotation;return[r.createElement("div",{className:Me("control","origin"),style:He(i,n),key:"beforeOrigin"})]}};function Go(t){var r=t.scrollContainer;return[r.scrollLeft,r.scrollTop]}var Ao={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(t,r){var e=t.props,n=e.scrollContainer,i=void 0===n?t.getContainer():n,o=new te;r.datas.dragScroll=o;var a=r.isControl?"controlDragger":"targetDragger",s=r.targets;o.on("scroll",(function(e){var n=e.container,i=e.direction,o=un(t,r,{scrollContainer:n,direction:i}),a=s?"onScrollGroup":"onScroll";s&&(o.targets=s),cn(t,a,o)})).on("move",(function(e){var n=e.offsetX,i=e.offsetY;t[a].scrollBy(n,i,r.inputEvent,!1)})),o.dragStart(r,{container:i})},checkScroll:function(t,r){var e=r.datas.dragScroll;if(e){var n=t.props,i=n.scrollContainer,o=void 0===i?t.getContainer():i,a=n.scrollThreshold,s=void 0===a?0:a,u=n.getScrollPosition,c=void 0===u?Go:u;return e.drag(r,{container:o,threshold:s,getScrollPosition:function(t){return c({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,r){return this.checkScroll(t,r)},dragEnd:function(t,r){r.datas.dragScroll.dragEnd(),r.datas.dragScroll=null},dragControlStart:function(t,r){return this.dragStart(t,ue({},r,{isControl:!0}))},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupStart:function(t,r){return this.dragStart(t,ue({},r,{targets:t.props.targets}))},dragGroup:function(t,r){return this.drag(t,ue({},r,{targets:t.props.targets}))},dragGroupEnd:function(t,r){return this.dragEnd(t,ue({},r,{targets:t.props.targets}))},dragGroupControlStart:function(t,r){return this.dragStart(t,ue({},r,{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,r){return this.drag(t,ue({},r,{targets:t.props.targets}))},dragGroupControEnd:function(t,r){return this.dragEnd(t,ue({},r,{targets:t.props.targets}))}},To={name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},Io=[To,io,Rn,oo,vo,yo,xo,wo,Ao,Ro,_o],No={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(t,r){var e=t.props.targets||[];t.moveables=[];var n=t.state,i=n.left,o=n.top,a={left:i,top:o};return e.map((function(e,n){return r.createElement(Bn,{key:"moveable"+n,ref:h(t,"moveables",n),target:e,origin:!1,parentMoveable:t,parentPosition:a})}))}};function jo(t,r){return Math.max.apply(Math,t.map((function(t){var e=t[0],n=t[1],i=t[2],o=t[3];return Math.max(e[r],n[r],i[r],o[r])})))}function Xo(t,r){return Math.min.apply(Math,t.map((function(t){var e=t[0],n=t[1],i=t[2],o=t[3];return Math.min(e[r],n[r],i[r],o[r])})))}function Yo(t,r){if(!t.length)return[0,0,0,0];var e=t.map((function(t){var r=t.state;return tn(r)})),n=be,i=be,o=0,a=0,s=en(r,ge);if(s%90){var u=r/180*Math.PI,c=Math.tan(u),f=-1/c,l=[ye,be],p=[ye,be];e.forEach((function(t){t.forEach((function(t){var r=t[1]-c*t[0],e=t[1]-f*t[0];l[0]=Math.max(l[0],r),l[1]=Math.min(l[1],r),p[0]=Math.max(p[0],e),p[1]=Math.min(p[1],e)}))})),l.forEach((function(t){p.forEach((function(r){var e=(r-t)/(c-f),o=c*e+t;n=Math.min(n,e),i=Math.min(i,o)}))}));var d=e.map((function(t){var r=t[0],e=t[1],n=t[2],i=t[3];return[vr(r,-u),vr(e,-u),vr(n,-u),vr(i,-u)]}));o=jo(d,0)-Xo(d,0),a=jo(d,1)-Xo(d,1)}else if(n=Xo(e,0),i=Xo(e,1),o=jo(e,0)-n,a=jo(e,1)-i,s%180){var h=o;o=a,a=h}return[n,i,o,a]}var ko=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.differ=new oe,r.moveables=[],r.rotation=0,r}se(r,t);var e=r.prototype;return e.updateEvent=function(t){var r=this.state,e=this.props;r.target||(r.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=Cn(this,r.target,"targetAbles","Group"),this.controlDragger=Cn(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var n=!hn(t.container,e.container);n&&(r.container=e.container);var i=this.differ.update(e.targets),o=i.added,a=i.changed,s=i.removed;(n||o.length||a.length||s.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(t,r,e){var n;if(void 0===e&&(e=!0),this.controlBox){this.moveables.forEach((function(r){r.updateRect(t,!1,!1)}));var i=this.state,o=this.props,a=i.target||o.target;(!r||""!==t&&o.updateGroup)&&(this.rotation=o.defaultGroupRotate);var s=this.rotation,u=Yo(this.moveables,s),c=u[0],f=u[1],l=u[2],p=u[3];a.style.cssText+="left:0px;top:0px;width:"+l+"px; height:"+p+"px;transform:rotate("+s+"deg)",i.width=l,i.height=p;var d=this.getContainer(),h=$e(a,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||d,i),v=[h.left,h.top];n=tn(h),h.pos1=n[0],h.pos2=n[1],h.pos3=n[2],h.pos4=n[3],h.origin=pr(v,h.origin),h.beforeOrigin=pr(v,h.beforeOrigin);var g=h.targetClientRect;g.top+=f-h.top-i.top,g.left+=c-h.left-i.left,this.updateState(ue({},h,{left:c-h.left,top:f-h.top}),e)}},e.triggerEvent=function(r,e){if(r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,e)},e.updateAbles=function(){t.prototype.updateAbles.call(this,this.props.ables.concat([No]),"Group")},r.defaultProps=ue({},Bn.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),r}(Bn),Lo=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}se(r,t);var e=r.prototype;return e.render=function(){var t=this.props,r=t.ables||[],e=this.props.target||this.props.targets,n=_(e),i=n&&e.length>1;if(i){var o=ue({},this.props,{target:null,targets:e,ables:Io.concat([No],r)});return at(ko,ue({key:"group",ref:d(this,"moveable")},o))}var a=n?e[0]:e;return at(Bn,ue({key:"single",ref:d(this,"moveable")},ue({},this.props,{target:a,ables:Io.concat(r)})))},e.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},e.dragStart=function(t){this.moveable.dragStart(t)},e.isInside=function(t,r){return this.moveable.isInside(t,r)},e.updateRect=function(){this.moveable.updateRect()},e.updateTarget=function(){this.moveable.updateTarget()},e.isDragging=function(){return this.moveable.isDragging()},e.getRect=function(){return this.moveable.getRect()},e.request=function(t,r){return this.moveable.request(t,r)},e.destroy=function(){this.moveable.componentWillUnmount()},r}(xt),Wo=Lo,Fo=function(t,r){return Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},Fo(t,r)};function Ho(t,r){function e(){this.constructor=t}Fo(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var qo=function(){return qo=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},qo.apply(this,arguments)};function Vo(t,r,e,n){var i,o=arguments.length,a=o<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,e):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(r,e,a):i(r,e))||a);return o>3&&a&&Object.defineProperty(r,e,a),a}var Uo=function(t){function r(r){var e=t.call(this,r)||this;return e.state={},e.state=e.props,e}Ho(r,t);var e=r.prototype;return e.render=function(){return zt(at(Wo,qo({ref:d(this,"moveable")},this.state)),this.state.parentElement)},r}(yt),$o=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal","snapGap","isDisplaySnapDigit","snapDigit","zoom","triggerAblesSimultaneously"],Ko=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd","snap"],Zo=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","setState","getRect","request","isDragging"],Jo=function(t){function r(r,e){void 0===e&&(e={});var n=t.call(this)||this;n.tempElement=document.createElement("div");var i=qo({container:r},e),o={};Ko.forEach((function(t){o[j("on "+t)]=function(r){return n.trigger(t,r)}})),Ot(at(Uo,qo({ref:d(n,"innerMoveable"),parentElement:r},i,o)),n.tempElement);var a=i.target;return _(a)&&a.length>1&&n.updateRect(),n}Ho(r,t);var e=r.prototype;return e.setState=function(t,r){this.innerMoveable.setState(t,r)},e.destroy=function(){Ot(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},r=Vo([v(Zo,(function(t,r){t[r]||(t[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getMoveable();if(n&&n[r])return n[r].apply(n,t)})})),v($o,(function(t,r){Object.defineProperty(t,r,{get:function(){return this.getMoveable().props[r]},set:function(t){var e;this.setState((e={},e[r]=t,e))},enumerable:!0,configurable:!0})}))],r),r}(f),Qo=Jo;function ta(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function ra(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?ta(Object(e),!0).forEach((function(r){ea(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ta(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function ea(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var na=function(t,r){return{handler:function(r){var e=this.moveable[t];e!==r&&(this.moveable[t]=r)},deep:r}},ia=function(){return $o.reduce((function(t,r){return t[r]=na(r,!0),t}),{})},oa={};Zo.forEach((function(t){oa[t]=function(){var r;return(r=this.moveable)[t].apply(r,arguments)}}));var aa={name:"Moveable",inheritAttrs:!1,props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,snapThreshold:Number,snapDigit:Number,isDisplaySnapDigit:Boolean,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,defaultGroupRotate:Number,scrollable:Boolean,scrollContainer:[HTMLElement,SVGElement],scrollThreshold:Number,getScrollPosition:Function,warpable:Boolean,renderDirections:Array,rotatable:Boolean,rotationPosition:String,throttleRotate:Number,pinchable:[Boolean,Array],scalable:Boolean,throttleScale:Number,keepRatio:Boolean,resizable:Boolean,throttleResize:Number,baseDirection:Array,draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,container:{type:[HTMLElement,SVGElement],default:function(){return document.body}},rootContainer:HTMLElement,dragArea:Boolean,origin:Boolean,zoom:Number,transformOrigin:[Array,String],edge:Boolean,ables:Array,className:String,pinchThreshold:Number,triggerAblesSimultaneously:Boolean},methods:oa,mounted:function(){var t=this;this.moveable=new Qo(this.$props.container,ra({},this.$props,{target:this.$el})),Ko.forEach((function(r){var e=r.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();t.moveable.on(r,t.$emit.bind(t,e)),t.moveable.on(r,t.$emit.bind(t,r))})),window.addEventListener("resize",this.updateRect,{passive:!0})},watch:ra({},ia()),beforeDestroy:function(){window.removeEventListener("resize",this.updateRect),this.moveable.destroy()}},sa=aa;function ua(t,r,e,n,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(r&&(c.render=r,c.staticRenderFns=e,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(t,r){return u.call(r),f(t,r)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}var ca=ua(sa,a,s,!1,null,null,null),fa=ca.exports;r["default"]=fa}})["default"]}));
//# sourceMappingURL=VueMoveable.umd.min.js.map